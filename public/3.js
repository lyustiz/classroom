(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"/3rM":function(t,e,a){var o=a("zzjF");"string"==typeof o&&(o=[[t.i,o,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(o,n);o.locals&&(t.exports=o.locals)},AFaY:function(t,e,a){"use strict";var o=a("lDyD");a.n(o).a},"Dgz/":function(t,e,a){var o=a("S1Zf");"string"==typeof o&&(o=[[t.i,o,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(o,n);o.locals&&(t.exports=o.locals)},J5wY:function(t,e,a){(t.exports=a("I1BE")(!1)).push([t.i,".contend{min-height:92.8vh}",""])},OWl4:function(t,e,a){"use strict";a("bx5y");var o={props:{title:{type:String,default:"Visor"},fileUrl:{type:String,default:null},fileType:{type:String,default:null}}},n=(a("rcUW"),a("KHd+")),i=Object(n.a)(o,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"rounded-t-xl grey darken-4"},[a("app-simple-toolbar",{attrs:{title:t.title},on:{closeModal:function(e){return t.$emit("closeModal")}}}),t._v(" "),a("v-card-text",{staticClass:"pa-0 "},["PDF"==t.fileType?[a("embed",{staticClass:"file-visor",attrs:{src:t.fileUrl+"#toolbar=0&navpanes=0",type:"application/pdf",width:"100%"}})]:"Texto"==t.fileType?[a("embed",{staticClass:"file-visor",attrs:{src:t.fileUrl,type:"text/plain",width:"100%"}})]:"Image"==t.fileType?[a("v-img",{attrs:{src:t.fileUrl,"aspect-ratio":"1.7",contain:""}})]:"Video"==t.fileType?[a("v-row",{attrs:{justify:"center"}},[a("video",{attrs:{width:"70%",controls:""}},[a("source",{attrs:{src:t.fileUrl,type:"video/mp4"}})])])]:[a("v-container",[a("v-row",{attrs:{justify:"center"}},[a("v-alert",{attrs:{type:"warning"}},[t._v("\n                        Visualizacion  no Soportada por el Navegador\n                    ")])],1),t._v(" "),a("v-row",{attrs:{justify:"center"}},[a("v-btn",{attrs:{large:"",color:"success",link:"",href:t.fileUrl,download:t.title,rel:"noreferrer noopener",target:"_blank"}},[t._v("Descargar")])],1)],1)]],2)],1)}),[],!1,null,null,null);e.a=i.exports},QzUS:function(t,e,a){"use strict";a.r(e);var o=a("S5Pb"),n={mixins:[o.a],props:{event:{type:Object,default:function(){}}},data:function(){return{}}},i=a("KHd+");function l(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=function(t,e){if(!t)return;if("string"==typeof t)return r(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(a);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return r(t,e)}(t))){var e=0,a=function(){};return{s:a,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,n,i=!0,l=!1;return{s:function(){o=t[Symbol.iterator]()},n:function(){var t=o.next();return i=t.done,t},e:function(t){l=!0,n=t},f:function(){try{i||null==o.return||o.return()}finally{if(l)throw n}}}}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,o=new Array(e);a<e;a++)o[a]=t[a];return o}var s={components:{"agenda-evento":Object(i.a)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"rounded-xl"},[a("v-toolbar",{attrs:{color:t.event.color,dark:"",flat:""}},[a("div",{staticClass:"col-11"},[a("v-icon",{staticClass:"mr-2",domProps:{textContent:t._s(t.event.icon)}}),t._v("\n              "+t._s(t.event.name)+"\n          ")],1),t._v(" "),a("v-btn",{attrs:{icon:"","x-small":"",dark:""},on:{click:function(e){return t.$emit("closeModal")}}},[a("v-icon",[t._v("mdi-close-circle")])],1)],1),t._v(" "),a("v-card-text",{staticClass:"pt-4"},[a("h3",{staticClass:"indigo--text"},[t._v("\n          "+t._s(t.event.category)+"\n      ")]),t._v(" "),a("v-row",[a("v-col",{attrs:{cols:"4"}},[a("v-chip",{attrs:{color:"cyan lighten-2",dark:""}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-calendar-today")]),t._v(" "+t._s(t._f("formatDate")(t.event.start))+"\n              ")],1)],1),t._v(" "),a("v-col",[a("v-chip",{attrs:{color:"green lighten-2",dark:"",outlined:""}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-clock")]),t._v(" "+t._s(t._f("formatTime")(t._f("hourFromDate")(t.event.start)))+"\n              ")],1),t._v(" "),a("v-chip",{attrs:{color:"amber lighten-2",dark:"",outlined:""}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-clock")]),t._v(" "+t._s(t._f("formatTime")(t._f("hourFromDate")(t.event.end)))+"\n              ")],1)],1)],1),t._v(" "),a("v-row",["horario"==t.event.type?a("v-col",[a("v-list",{attrs:{"two-line":""}},[a("v-list-item",[a("v-list-item-avatar",{attrs:{color:t.event.color}},[a("v-icon",{attrs:{dark:""}},[t._v("mdi-chair-school")])],1),t._v(" "),a("v-list-item-content",[a("v-list-item-title",{domProps:{innerHTML:t._s(t.event.classroom)}}),t._v(" "),a("v-list-item-subtitle",{domProps:{innerHTML:t._s(t.event.location)}})],1)],1),t._v(" "),a("v-list-item",[a("v-list-item-avatar",{attrs:{color:t.event.color}},[a("v-icon",{attrs:{dark:""}},[t._v("mdi-account-tie")])],1),t._v(" "),a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(t.event.teacher))])],1)],1)],1)],1):"evaluacion"==t.event.type?a("v-col",[a("v-list",[a("v-list-item",{attrs:{"two-line":""}},[a("v-list-item-avatar",{attrs:{color:t.event.color}},[a("v-icon",{attrs:{dark:""}},[t._v("mdi-percent")])],1),t._v(" "),a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(t.event.weight)+" %")])],1)],1),t._v(" "),a("v-list-item",[a("v-list-item-avatar",{attrs:{color:t.event.color}},[a("v-icon",{attrs:{dark:""}},[t._v("mdi-note-text")])],1),t._v(" "),a("v-list-item-content",[a("v-list-item-title",{domProps:{innerHTML:t._s(t.event.topic)}}),t._v(" "),a("v-list-item-subtitle",{domProps:{innerHTML:t._s(t.event.description)}})],1)],1)],1)],1):a("v-col",[a("p",[t._v(t._s(t.event.description))])])],1)],1)],1)}),[],!1,null,null,null).exports},mixins:[o.a],props:{events:{type:[Array],default:function(){return[]}}},created:function(){this.list()},computed:{weekdays:function(){return this.weekend?[1,2,3,4,5,6,0]:[1,2,3,4,5]},docente:function(){return this.$store.getters.getDocente}},mounted:function(){var t=this;this.$nextTick((function(){t.title=t.$refs.calendar.title}))},data:function(){return{horario:[],allEvents:[],today:(new Date).toISOString().substr(0,10),focus:(new Date).toISOString().substr(0,10),title:null,month:null,weekend:null,start:null,end:null,type:"week",endDate:"2020-07-31",event:{},date:{},dialogShow:!1}},methods:{list:function(){var t=this;this.getResource("horario/docente/"+this.docente.id).then((function(e){t.horario=e;var a=t.$refs.calendar,o=a.lastStart,n=a.lastEnd;t.updateRange({start:o,end:n})}))},formatHour:function(t){return t.time},prev:function(){this.$refs.calendar.prev()},next:function(){this.$refs.calendar.next()},setToday:function(){this.focus=this.today},setType:function(t){this.type=t},getEventColor:function(t){return t.color},showEvent:function(t){var e=t.event;this.event=e,this.dialogShow=!0},updateRange:function(t){var e=t.start,a=t.end;this.start=e,this.end=a,this.title=this.$refs.calendar.title,this.setHorario()},closeModal:function(){this.dialogShow=!1,this.event=[]},setHorario:function(){var t=this.$refs.calendar,e=t.lastStart,a=t.lastEnd;switch(this.type){case"month":this.horarioMonth(e,a);break;case"week":case"day":this.horarioWeek(e,a)}},horarioMonth:function(t,e){this.allEvents=this.events},horarioWeek:function(t,e){var a,o=new Date(t.year,t.month-1,t.day),n=[],i=l(this.horario);try{for(i.s();!(a=i.n()).done;){var r,s=a.value,c=s.grupo.nb_grupo,u=l(s.detalle_horario);try{for(u.s();!(r=u.n()).done;){var d=r.value,v=this.sumDateDays(o,d.id_dia_semana-1).toISOString().substr(0,10);n.push({id:d.id,name:d.materia.nb_materia,date:v,start:"".concat(v," ").concat(d.hh_inicio),end:"".concat(v," ").concat(d.hh_fin),startHour:d.hh_inicio,endHour:d.hh_fin,color:d.materia.area_estudio.tx_color,category:c,categoryId:4,type:"horario",typeId:99,icon:"mdi-clock-outline",description:d.materia.nb_materia,teacher:d.docente.nb_docente,classroom:d.aula.nb_aula,location:d.aula.estructura.tx_path})}}catch(t){u.e(t)}finally{u.f()}}}catch(t){i.e(t)}finally{i.f()}this.allEvents=n.concat(this.events)},sumDateDays:function(t,e){var a=new Date(t);return new Date(a.setDate(a.getDate()+e))}}},c=Object(i.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"rounded-xl",attrs:{height:"76vh",flat:""}},[a("app-agenda-toolbar",{attrs:{title:t.title,type:t.type,weekend:t.weekend,"text-color":"white"},on:{OnPrev:function(e){return t.prev()},OnNext:function(e){return t.next()},OnToday:function(e){return t.setToday()},OnType:function(e){return t.setType(e)},OnWeekend:function(e){t.weekend=!t.weekend}}}),t._v(" "),a("v-calendar",{ref:"calendar",staticClass:"elevation-1",attrs:{color:"info",type:t.type,weekdays:t.weekdays,now:t.today,end:t.endDate,events:t.allEvents,"event-color":t.getEventColor,"event-overlap-mode":"column","first-interval":6,"interval-minutes":60,"interval-count":14,"interval-format":t.formatHour},on:{change:t.updateRange,"click:event":t.showEvent,"click:date":function(e){return t.setType("day")},"click:more":function(e){return t.setType("day")}},scopedSlots:t._u([{key:"event",fn:function(e){var o=e.event;return[a("v-icon",{staticClass:"white--text mx-2",attrs:{size:"18"},domProps:{textContent:t._s(o.icon)}}),t._v(t._s(o.name)+"\n      ")]}}]),model:{value:t.focus,callback:function(e){t.focus=e},expression:"focus"}}),t._v(" "),a("v-dialog",{attrs:{"max-width":"500px","content-class":"rounded-xl"},model:{value:t.dialogShow,callback:function(e){t.dialogShow=e},expression:"dialogShow"}},[t.dialogShow?a("agenda-evento",{attrs:{event:t.event},on:{closeModal:function(e){return t.closeModal()}}}):t._e()],1)],1)}),[],!1,null,null,null).exports,u={props:{events:{type:Array,default:function(){return[]}}},data:function(){return{}},methods:{onItemMenu:function(t){}}},d={components:{"calendario-evento":Object(i.a)(u,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"rounded-xl"},[a("v-toolbar",{attrs:{color:"indigo",dark:"",flat:""}},[a("div",{staticClass:"col-11"},[t._v("\n              Eventos\n          ")]),t._v(" "),a("v-btn",{attrs:{icon:"","x-small":"",dark:""},on:{click:function(e){return t.$emit("closeModal")}}},[a("v-icon",[t._v("mdi-close-circle")])],1)],1),t._v(" "),a("v-card-text",{staticClass:"pt-4"},[a("v-list",{attrs:{"three-line":""}},t._l(t.events,(function(e,o){return a("v-list-item",{key:o},[a("v-tooltip",{attrs:{bottom:"",color:e.color},scopedSlots:t._u([{key:"activator",fn:function(o){var n=o.on;return[a("v-list-item-avatar",t._g({attrs:{size:"46",color:e.color}},n),[a("v-icon",{attrs:{size:"30",color:"white"}},[t._v(t._s(e.icon))])],1)]}}],null,!0)},[t._v(" "),a("span",{domProps:{textContent:t._s("Tipo: "+e.type+" - Categoria: "+e.category)}})]),t._v(" "),a("v-list-item-content",[a("v-list-item-title",{domProps:{innerHTML:t._s(e.name)}}),t._v(" "),a("v-list-item-subtitle",{domProps:{innerHTML:t._s(e.description)}})],1)],1)})),1)],1)],1)}),[],!1,null,null,null).exports},props:{events:{type:[Array],default:function(){return[]}}},data:function(){return{today:(new Date).toISOString().substr(0,10),dialogShow:!1,eventsShow:[]}},methods:{getEvent:function(t){var e=[];return this.events.map((function(a){a.date==t&&e.push(a.color)})),e},datesEvents:function(){var t=[];return this.events.map((function(e){return t.push(e.date)})),t},showEvent:function(t){this.eventsShow=this.events.filter((function(e){return e.date==t})),this.eventsShow.length>0&&(this.dialogShow=!0)},closeModal:function(){this.eventsShow=[],this.dialogShow=!1}}},v=Object(i.a)(d,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"rounded-xl"},[a("v-date-picker",{staticClass:"rounded-xl",attrs:{"full-width":"",events:t.getEvent,readonly:"",color:"indigo"},on:{"click:date":t.showEvent},model:{value:t.today,callback:function(e){t.today=e},expression:"today"}}),t._v(" "),a("v-dialog",{attrs:{"max-width":"500px","content-class":"rounded-xl"},model:{value:t.dialogShow,callback:function(e){t.dialogShow=e},expression:"dialogShow"}},[a("calendario-evento",{attrs:{events:t.eventsShow},on:{closeModal:t.closeModal}})],1)],1)}),[],!1,null,null,null).exports,m=a("odYm"),p={mixins:[o.a],props:{planEvaluacion:{type:Object,default:function(){}}},methods:{getNombreEvaluacion:function(t,e){switch(t){case"prueba":return e.nb_prueba;case"tarea":return e.nb_tarea;case"actividad":return e.nb_actividad;case"enlace":return e.nb_enlace;case"recurso":return e.archivo.nb_archivvo;case"rasgo":return e.nb_rasgo}}}},f=Object(i.a)(p,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{loading:t.loading,flat:"","max-height":"80vh"}},[a("v-card-title",{staticClass:"pa-0"},[a("app-simple-toolbar",{attrs:{title:"Detalle Calificacion",dense:""},on:{closeModal:function(e){return t.$emit("closeDialog",!0)}}})],1),t._v(" "),a("v-card-text",{staticClass:"pt-3"},[a("v-simple-table",{attrs:{dense:""},scopedSlots:t._u([{key:"default",fn:function(){return[a("tbody",t._l(t.planEvaluacion.plan_detalle,(function(e,o){return a("tr",{key:o},[a("td",{attrs:{colspan:"4"}},[a("v-list-item",[a("v-list-item-avatar",{attrs:{color:e.tipo_evaluacion.tx_color}},[a("v-icon",{attrs:{dark:""},domProps:{textContent:t._s(e.tipo_evaluacion.tx_icono)}})],1),t._v(" "),a("v-list-item-content",[a("v-list-item-title",{domProps:{textContent:t._s(e.tipo_evaluacion.nb_tipo_evaluacion)}})],1),t._v(" "),a("v-list-item-action",{staticClass:"subtitle-1"},[t._v("\n                            "+t._s(e.nu_peso)+" %\n                            ")])],1),t._v(" "),t._l(e.evaluacion,(function(o,n){return a("v-list-item",{key:n},[a("v-list-item-icon",[a("list-simple-icon",{staticClass:"mx-2",attrs:{size:28,label:o.evaluacion_alumno[0].tx_observaciones?o.evaluacion_alumno[0].tx_observaciones:"-",icon:o.evaluacion_alumno[0].tx_observaciones?"mdi-card-text":"mdi-card-text-outline",color:"indigo"}})],1),t._v(" "),a("v-list-item-content",[a("v-list-item-title",[t._v(" \n                                    "+t._s(t.getNombreEvaluacion(o.tx_origen,o.origen))+"\n                                ")]),t._v(" "),a("v-list-item-subtitle",[t._v(" \n                                    Calificacion  "),a("span",{staticClass:"font-weight-bold"},[t._v(t._s(t._f("formatNumber")(o.evaluacion_alumno[0].nu_calificacion)))]),t._v(" / "+t._s(t._f("formatNumber")(o.nu_peso))+" \n                                ")])],1),t._v(" "),a("v-list-item-action",[a("span",{staticClass:"subtitle-2"},[t._v(t._s(t._f("formatNumber")(o.evaluacion_alumno[0].nu_calificacion*e.nu_peso/100))+" Pts")])])],1)})),t._v(" "),e.evaluacion.length<1?a("v-list-item",[a("v-list-item-icon",[a("v-icon",{staticClass:"mx-2",attrs:{color:"orange"}},[t._v("mdi-alert-circle-outline")])],1),t._v(" "),a("v-list-item-content",[a("v-list-item-title",{staticClass:"orange--text"},[t._v(" \n                                   No se han asignado evaluaciones! \n                                ")])],1)],1):t._e()],2)])})),0)]},proxy:!0}])}),t._v(" "),t.$App.debug?a("pre",[t._v(t._s(t.$data))]):t._e()],1)],1)}),[],!1,null,null,null).exports,_={mixins:[o.a],components:{"calificacion-detalle":f},props:{alumno:{type:Object,default:function(){}},materia:{type:Object,default:function(){}}},created:function(){this.alumno&&this.list()},computed:{docente:function(){return this.$store.getters.getDocente}},watch:{alumno:function(){this.alumno&&(this.calificaciones=[],this.list())}},data:function(){return{title:"Evaluaciones",planes:[],calificaciones:[],dialogDetail:!1,planEvaluacion:null}},methods:{list:function(){var t=this;this.alumno&&this.getResource("planEvaluacion/calificacion/alumno/".concat(this.alumno.id,"/materia/").concat(this.materia.id)).then((function(e){t.planes=e.planEvaluacion,t.calificaciones=e.calificaciones}))},showDetalles:function(t){this.planEvaluacion=this.planes.find((function(e){return e.id_materia==t})),this.planEvaluacion&&(this.dialogDetail=!0)},closeDialog:function(){this.dialogDetail=!1,this.planEvaluacion=null},goPruebas:function(){this.$emit("closeModal",{goTo:"prueba-alumno"})}}},h=Object(i.a)(_,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{loading:t.loading,flat:"",height:"80vh"}},[a("v-card-title",{staticClass:"pa-0"},[a("app-simple-toolbar",{attrs:{title:"Calificaciones (Parciales)"},on:{closeModal:function(e){return t.$emit("closeModal",!0)}}})],1),t._v(" "),a("v-card-text",{staticClass:"pt-3"},[a("v-simple-table",{scopedSlots:t._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"text-left"},[t._v("Materia")]),t._v(" "),a("th",{staticClass:"text-left"},[t._v("Acumulado")]),t._v(" "),a("th",{staticClass:"text-left"},[t._v("Letra")]),t._v(" "),a("th",{staticClass:"text-left"},[t._v("Culitativa")]),t._v(" "),a("th",{staticClass:"text-left"},[t._v("Aprobado")]),t._v(" "),a("th",{staticClass:"text-left"},[t._v("Detalles")])])]),t._v(" "),a("tbody",t._l(t.calificaciones,(function(e,o){return a("tr",{key:o},[a("td",[t._v(" "+t._s(e.nb_materia)+" ")]),t._v(" "),a("td",[t._v(" "+t._s(e.nu_calificacion)+" ")]),t._v(" "),a("td",[e.calificacion?[t._v(t._s(e.calificacion.nb_calificacion))]:[t._v("-")]],2),t._v(" "),a("td",[e.calificacion?[t._v(t._s(e.calificacion.nivel_calificacion.nb_nivel_calificacion))]:[t._v("-")]],2),t._v(" "),a("td",[e.calificacion?[a("list-icon",{attrs:{data:t.calificacionIcons,value:e.calificacion.bo_aprobado}})]:[t._v("-")]],2),t._v(" "),a("td",[a("list-simple-icon",{attrs:{label:"Ver Detalles",icon:"mdi-text-box-search-outline",color:"indigo"},on:{click:function(a){return t.showDetalles(e.id_materia)}}})],1)])})),0)]},proxy:!0}])}),t._v(" "),a("v-dialog",{attrs:{"max-width":"500px","content-class":"rounded-xl",scrollable:""},model:{value:t.dialogDetail,callback:function(e){t.dialogDetail=e},expression:"dialogDetail"}},[t.dialogDetail?a("calificacion-detalle",{attrs:{planEvaluacion:t.planEvaluacion},on:{closeDialog:function(e){return t.closeDialog()}}}):t._e()],1),t._v(" "),t.$App.debug?a("pre",[t._v(t._s(t.$data))]):t._e()],1)],1)}),[],!1,null,null,null).exports,g={mixins:[o.a],components:{"app-mensaje":m.a,"calificacion-alumno":h},created:function(){this.list()},computed:{docente:function(){return this.$store.getters.getDocente}},data:function(){return{section:null,materias:[],grupos:[],materia:[],itemsMenu:[{label:"Calificaciones",icon:"mdi-clipboard-list",action:"showCalificaciones"},{label:"Enviar Mensaje",icon:"mdi-mail",action:"addMensaje"},{label:"Reiniciar Password",icon:"mdi-account-key",action:"resetPassword"}],dialogMensaje:!1,dialogCalificaciones:!1,alumno:null,mensaje:{}}},methods:{list:function(){var t=this;this.getResource("materia/grupo/alumno/docente/".concat(this.docente.id)).then((function(e){return t.materias=e}))},getGrupos:function(t){this.grupos=t.grupo},showCalificaciones:function(t){this.alumno=t,this.dialogCalificaciones=!0},addMensaje:function(t){this.dialogMensaje=!0,this.mensaje={tipoDestinatario:3,tipoMensaje:1,tipoPrioridad:1,idDestinatario:t.id,asunto:null,mensaje:null,fecha:null,inicio:null,fin:null}},closeDialog:function(t){this[t]=!1,this.mensaje={}},resetPassword:function(t){var e=this,a={id_usuario:this.idUser};this.updateResource("usuario/".concat(t.usuario_alumno.id,"/resetPassword"),a).then((function(t){e.showMessage(t.msj)}))}}},b=Object(i.a)(g,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{flat:"",loading:t.loading,height:"90vh"}},[a("v-card-title",{staticClass:"pa-0"},[a("app-simple-toolbar",{attrs:{title:"Alumnos"},on:{closeModal:function(e){return t.$emit("closeModal",!0)}}})],1),t._v(" "),a("v-card-text",{staticClass:"pt-2"},[a("v-row",{attrs:{justify:"center","no-gutters":""}},[a("v-select",{attrs:{items:t.materias,"item-text":"nb_materia","item-value":"id",label:"Seleccione Materia",loading:t.loading,dense:"",rounded:"",filled:"","return-object":""},on:{change:function(e){return t.getGrupos(e)}},model:{value:t.materia,callback:function(e){t.materia=e},expression:"materia"}})],1),t._v(" "),a("v-row",{attrs:{justify:"center","no-gutters":""}},[a("v-expansion-panels",{staticClass:"rounded-xl",attrs:{focusable:"",accordion:""},model:{value:t.section,callback:function(e){t.section=e},expression:"section"}},t._l(t.grupos,(function(e){return a("v-expansion-panel",{key:e.id},[a("v-expansion-panel-header",{scopedSlots:t._u([{key:"default",fn:function(){return[a("div",[a("v-icon",{staticClass:"mr-1",attrs:{color:"red"}},[t._v("mdi-school")]),t._v(" "+t._s(e.nb_grupo)+" \n                            ")],1)]},proxy:!0}],null,!0)}),t._v(" "),a("v-expansion-panel-content",[a("v-list",{attrs:{subheader:"","two-line":"",dense:""}},t._l(e.alumno,(function(e){return a("v-list-item",{key:e.id},[a("v-list-item-avatar",[e.foto?a("v-img",{attrs:{src:e.foto.full_url}}):a("v-icon",{attrs:{color:"indigo",size:"42"}},[t._v("mdi-account-circle")])],1),t._v(" "),a("v-list-item-content",[a("v-list-item-title",{domProps:{textContent:t._s(e.nb_alumno)}}),t._v(" "),a("v-list-item-subtitle",[t._v(" "+t._s(e.tx_documento)+" - "+t._s(e.usuario_alumno.nb_usuario))])],1),t._v(" "),a("v-list-item-icon",[a("item-menu",{attrs:{item:e,iconColor:"deep-purple lighten-5",menus:t.itemsMenu},on:{onItemMenu:function(e){return t.onItemMenu(e)}}})],1)],1)})),1)],1)],1)})),1)],1)],1),t._v(" "),a("v-dialog",{attrs:{"max-width":"600","content-class":"rounded-xl"},model:{value:t.dialogMensaje,callback:function(e){t.dialogMensaje=e},expression:"dialogMensaje"}},[t.dialogMensaje?a("app-mensaje",{attrs:{"tipo-destinatario":t.mensaje.tipoDestinatario,"tipo-mensaje":t.mensaje.tipoMensaje,"tipo-prioridad":t.mensaje.tipoPrioridad,"id-destinatario":t.mensaje.idDestinatario},on:{closeModal:function(e){return t.closeDialog("dialogMensaje")}}}):t._e()],1),t._v(" "),a("v-dialog",{attrs:{"max-width":"600","content-class":"rounded-xl"},model:{value:t.dialogCalificaciones,callback:function(e){t.dialogCalificaciones=e},expression:"dialogCalificaciones"}},[a("calificacion-alumno",{attrs:{alumno:t.alumno,materia:t.materia},on:{closeModal:function(e){return t.closeDialog("dialogCalificaciones")}}})],1)],1)}),[],!1,null,"310e545d",null).exports,x={components:{"app-visor":a("OWl4").a},mixins:[o.a],created:function(){this.list()},computed:{docente:function(){return this.$store.getters.getDocente}},data:function(){return{file:0,headers:[{text:" ",value:"expand"},{text:"Materia",value:"nb_materia"}],recursos:[],filesMenu:[{label:"Ver Archivo",icon:"mdi-file-eye",action:"showfile"}],fileUrl:null,fileType:null,title:null}},methods:{list:function(){var t=this;this.getResource("recurso/docente/".concat(this.docente.id)).then((function(e){t.recursos=e,t.file=0}))},closeModal:function(){this.fileUrl=null,this.fileType=null,this.title=null,this.dialog=!1},showFile:function(t){this.fileUrl=t.tipo_archivo.tx_base_path+t.tx_origen_id+"/"+t.tx_path,this.fileType=t.tx_mimetype,this.title=t.nb_archivo,this.dialog=!0},onMenu:function(t){switch(t.action){case"refresh":this.list();break;case"showfile":this.showFile(t.item)}}}},y=(Object(i.a)(x,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{loading:t.loading,flat:"",height:"80vh"}},[a("v-card-title",{staticClass:"pa-0"},[a("app-simple-toolbar",{attrs:{title:"Recursos"},on:{closeModal:function(e){return t.$emit("closeModal",!0)}}})],1),t._v(" "),a("v-card-text",{staticClass:"pt-3"},[a("v-row",{attrs:{justify:"center"}},[a("v-expansion-panels",{staticClass:"rounded-xl",attrs:{focusable:"",accordion:""}},t._l(t.recursos,(function(e){return a("v-expansion-panel",{key:e.id},[a("v-expansion-panel-header",[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",[a("v-icon",{staticClass:"mr-1",attrs:{color:e.tipo_recurso.tx_color}},[t._v(t._s(e.tipo_recurso.tx_icono))]),t._v(" "+t._s(e.tipo_recurso.nb_tipo_recurso)+"\n                            ")],1),t._v(" "),a("v-col",[t._v("\n                                "+t._s(e.grado.nb_grado)+" \n                            ")])],1)],1),t._v(" "),a("v-expansion-panel-content",[a("v-list",{attrs:{dense:"","two-line":""}},[a("v-subheader",[t._v(t._s(e.tipo_recurso.nb_tipo_recurso))]),t._v(" "),a("v-list-item-group",{attrs:{color:e.tipo_recurso.tx_color},model:{value:t.file,callback:function(e){t.file=e},expression:"file"}},t._l(e.archivo,(function(o){return a("v-list-item",{key:o.id},[a("v-list-item-avatar",{attrs:{color:e.tipo_recurso.tx_color}},[a("v-tooltip",{attrs:{right:"",color:"green lighten-2","open-on-click":""},scopedSlots:t._u([{key:"activator",fn:function(o){var n=o.on;return[a("v-icon",t._g({attrs:{color:"white"},domProps:{textContent:t._s(e.tipo_recurso.tx_icono)}},n))]}}],null,!0)},[t._v(" "),a("span",[t._v(t._s(o.tx_observaciones))])])],1),t._v(" "),a("v-list-item-content",[a("v-list-item-title",{domProps:{textContent:t._s(o.nb_archivo)}}),t._v(" "),a("v-list-item-subtitle",{domProps:{textContent:t._s(o.nb_real)}})],1),t._v(" "),a("v-list-item-action",[a("menu-items",{attrs:{itemsMenu:t.filesMenu,item:o,iconColor:"green lighten-5"},on:{onMenu:function(e){return t.onMenu(e)}}})],1)],1)})),1)],1)],1)],1)})),1)],1)],1),t._v(" "),a("v-dialog",{attrs:{"max-width":"500px","content-class":"rounded-t-xl",fullscreen:""},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("app-visor",{attrs:{fileUrl:t.fileUrl,fileType:t.fileType,title:t.title},on:{closeModal:function(e){return t.closeModal()}}})],1)],1)}),[],!1,null,null,null).exports,a("CqFU")),k={mixins:[o.a],components:{"plan-detalle":y.a},created:function(){this.list()},computed:{docente:function(){return this.$store.getters.getDocente}},data:function(){return{periodos:[],periodo:null,grados:[],grupo:null,materia:null,planEvaluacion:null,detalleDialog:!1}},methods:{list:function(){var t=this;this.getResource("periodo/list").then((function(e){return t.periodos=e})),this.getGradoDetalle()},getGradoDetalle:function(){var t=this;this.getResource("grado/planEvaluacion/docente/".concat(this.docente.id)).then((function(e){return t.grados=e}))},getPlanesEvaluacion:function(t){var e=this;return t.filter((function(t){return t.id_periodo==e.periodo}))},editDetallePlan:function(t,e){this.detalleDialog=!0,this.grupo=e,this.materia=t.materia,this.planEvaluacion=t}}},C=Object(i.a)(k,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{flat:"",loading:t.loading,height:"90vh"}},[a("v-card-title",{staticClass:"pa-0"},[a("app-simple-toolbar",{attrs:{title:"Evaluaciones"},on:{closeModal:function(e){return t.$emit("closeModal",!0)}}})],1),t._v(" "),a("v-card-text",{staticClass:"pt-2"},[a("v-select",{attrs:{items:t.periodos,"item-text":"nb_periodo","item-value":"id",label:"Seleccione Periodo",loading:t.loading,disabled:t.loading,dense:"",rounded:"",filled:""},model:{value:t.periodo,callback:function(e){t.periodo=e},expression:"periodo"}}),t._v(" "),t.periodo?a("v-expansion-panels",{staticClass:"rounded-xl",attrs:{focusable:"",accordion:""}},t._l(t.grados,(function(e){return a("v-expansion-panel",{key:e.id},[a("v-expansion-panel-header",{scopedSlots:t._u([{key:"default",fn:function(){return[a("div",[a("v-icon",{staticClass:"mr-1",attrs:{color:"red"}},[t._v("mdi-numeric")]),t._v(" "+t._s(e.nb_grado)+" \n                            ")],1)]},proxy:!0}],null,!0)}),t._v(" "),a("v-expansion-panel-content",[a("v-list",{attrs:{rounded:""}},t._l(e.grupo,(function(e){return a("v-list-group",{key:e.id,attrs:{"sub-group":"",color:"amber"},scopedSlots:t._u([{key:"activator",fn:function(){return[a("v-list-item-icon",[a("v-icon",[t._v("mdi-alphabetical-variant")])],1),t._v(" "),a("v-list-item-title",{staticClass:"ml-3",domProps:{textContent:t._s(e.nb_grupo)}})]},proxy:!0}],null,!0)},[t._v(" "),t._l(t.getPlanesEvaluacion(e.plan_evaluacion),(function(o){return a("v-list-item",{key:o.id,staticClass:"rounded-xl",attrs:{dense:""}},[a("v-list-item-content",[a("v-col",{staticClass:"col-8 rounded-xl blue lighten-4"},[a("v-icon",{staticClass:"ml-3 mr-3",attrs:{color:"red"}},[t._v("mdi-bookshelf")]),t._v("\n                                        "+t._s(o.materia.nb_materia)+"\n                                    ")],1),t._v(" "),a("v-col",{staticClass:"col-1"},[a("v-btn",{attrs:{fab:"","x-small":"",color:"success",dark:"",loading:t.loading},on:{click:function(a){return t.editDetallePlan(o,e)}}},[a("v-icon",[t._v("mdi-text-box-search")])],1)],1),t._v(" "),a("v-col",{attrs:{cols:"1"}},[1==o.id_status?a("v-tooltip",{attrs:{top:"",color:"green"},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[a("v-icon",t._g({attrs:{color:"green",size:"28"}},o),[t._v("mdi-checkbox-marked-circle-outline")])]}}],null,!0)},[t._v(" "),a("span",[t._v("Activo")])]):a("v-tooltip",{attrs:{top:"",color:"red"},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[a("v-icon",t._g({attrs:{color:"red",size:"28"}},o),[t._v("mdi-checkbox-blank-circle-outline")])]}}],null,!0)},[t._v(" "),a("span",[t._v("Inactivo")])])],1)],1)],1)}))],2)})),1)],1)],1)})),1):a("v-alert",{staticClass:"mt-3",attrs:{type:"warning",value:!0,prominent:"",outlined:"",border:"left"}},[t._v("\n            Seleccione un Período\n        ")])],1),t._v(" "),a("v-dialog",{attrs:{"content-class":"rounded-xl","max-width":"90vw",height:"95vh",scrollable:""},model:{value:t.detalleDialog,callback:function(e){t.detalleDialog=e},expression:"detalleDialog"}},[t.detalleDialog?a("plan-detalle",{attrs:{planEvaluacion:t.planEvaluacion,grupo:t.grupo,materia:t.materia},on:{closeDialog:function(e){t.detalleDialog=!1}}}):t._e()],1)],1)}),[],!1,null,null,null).exports,w=a("e/FQ"),E=a("y0pq"),M={mixins:[E.a],watch:{item:function(){1==this.item.id_tipo_evaluacion&&(this.isMetodoPrueba=!0,this.form.id_evaluacion_metodo=1)}},data:function(){return{resource:"evaluacion/asignar",dates:{fe_planificada:null,fe_evaluacion:null},pickers:{fe_planificada:null,fe_evaluacion:null},form:{id:null,id_evaluacion_metodo:null,fe_planificada:null,fe_evaluacion:null,hh_inicio:null,hh_fin:null,tx_observaciones:null,id_usuario:null},selects:{evaluacionMetodo:[]},isMetodoPrueba:!1}},methods:{onCreateForm:function(){this.form.fe_evaluacion=this.item.fe_planificada},extraActions:function(t){},update:function(){var t=this;console.log(this.item),11!=this.item.id_status?this.$refs.form.validate()&&(this.setDefaults(),this.loading=!0,this.form.id_usuario=this.idUser,axios.put(this.fullUrlId,this.form).then((function(e){t.validResponse(e)})).catch((function(e){t.showError(e)})).finally((function(){t.loading=!1,t.postResponse()}))):this.showError("La Evaluacion esta Cerrada")}}},P=Object(i.a)(M,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-card",{attrs:{loading:t.loading,flat:""}},[a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{rules:[t.rules.fecha],label:"Fecha Planificada","prepend-icon":"mdi-calendar-clock",readonly:"",dense:""},model:{value:t.dates.fe_planificada,callback:function(e){t.$set(t.dates,"fe_planificada",e)},expression:"dates.fe_planificada"}})],1),t._v(" "),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-menu",{attrs:{"close-on-content-click":!1,"min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[a("v-text-field",t._g({attrs:{rules:[t.rules.fecha],label:"Fecha Evaluacion","prepend-icon":"mdi-calendar-check",readonly:"",dense:""},model:{value:t.dates.fe_evaluacion,callback:function(e){t.$set(t.dates,"fe_evaluacion",e)},expression:"dates.fe_evaluacion"}},o))]}}]),model:{value:t.pickers.fe_evaluacion,callback:function(e){t.$set(t.pickers,"fe_evaluacion",e)},expression:"pickers.fe_evaluacion"}},[t._v(" "),a("v-date-picker",{on:{input:function(e){t.dates.fe_evaluacion=t.formatPicker(t.form.fe_evaluacion,"fe_evaluacion")}},model:{value:t.form.fe_evaluacion,callback:function(e){t.$set(t.form,"fe_evaluacion",e)},expression:"form.fe_evaluacion"}})],1)],1),t._v(" "),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-select",{attrs:{items:t.selects.evaluacionMetodo,"item-text":"nb_evaluacion_metodo","item-value":"id",rules:[t.rules.select],label:"Metodo Evaluacion",loading:t.loading,dense:"",hint:t.isMetodoPrueba?"Solo permite metodo prueba":"indique metodo",readonly:t.isMetodoPrueba,"persistent-hint":t.isMetodoPrueba,color:t.isMetodoPrueba?"amber":null,"prepend-icon":t.isMetodoPrueba?"mdi-lock":null},model:{value:t.form.id_evaluacion_metodo,callback:function(e){t.$set(t.form,"id_evaluacion_metodo",e)},expression:"form.id_evaluacion_metodo"}})],1),t._v(" "),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-menu",{ref:"pickers1",attrs:{"close-on-content-click":!1,"return-value":t.form.hh_inicio,"offset-y":"","max-width":"240px","min-width":"240px"},on:{"update:returnValue":function(e){return t.$set(t.form,"hh_inicio",e)},"update:return-value":function(e){return t.$set(t.form,"hh_inicio",e)}},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[a("v-text-field",t._g({attrs:{label:"Hora Inicio","prepend-icon":"access_time",readonly:"",dense:""},model:{value:t.form.hh_inicio,callback:function(e){t.$set(t.form,"hh_inicio",e)},expression:"form.hh_inicio"}},o))]}}]),model:{value:t.pickers.hh_inicio,callback:function(e){t.$set(t.pickers,"hh_inicio",e)},expression:"pickers.hh_inicio"}},[t._v(" "),t.pickers.hh_inicio?a("v-time-picker",{attrs:{"ampm-in-title":"",scrollable:"","full-width":""},on:{"click:minute":function(e){return t.$refs.pickers1.save(t.form.hh_inicio)}},model:{value:t.form.hh_inicio,callback:function(e){t.$set(t.form,"hh_inicio",e)},expression:"form.hh_inicio"}}):t._e()],1)],1),t._v(" "),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-menu",{ref:"pickers2",attrs:{"close-on-content-click":!1,"return-value":t.form.hh_fin,"offset-y":"","max-width":"240px","min-width":"240px"},on:{"update:returnValue":function(e){return t.$set(t.form,"hh_fin",e)},"update:return-value":function(e){return t.$set(t.form,"hh_fin",e)}},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[a("v-text-field",t._g({attrs:{label:"Hora Fin","prepend-icon":"access_time",readonly:"",dense:""},model:{value:t.form.hh_fin,callback:function(e){t.$set(t.form,"hh_fin",e)},expression:"form.hh_fin"}},o))]}}]),model:{value:t.pickers.hh_fin,callback:function(e){t.$set(t.pickers,"hh_fin",e)},expression:"pickers.hh_fin"}},[t._v(" "),t.pickers.hh_fin?a("v-time-picker",{attrs:{"ampm-in-title":"",scrollable:"","full-width":""},on:{"click:minute":function(e){return t.$refs.pickers2.save(t.form.hh_fin)}},model:{value:t.form.hh_fin,callback:function(e){t.$set(t.form,"hh_fin",e)},expression:"form.hh_fin"}}):t._e()],1)],1),t._v(" "),a("v-col",{attrs:{cols:"12",md:"12"}},[a("v-text-field",{attrs:{rules:[t.rules.max(100)],label:"Observaciones",placeholder:"Indique Observaciones",dense:""},model:{value:t.form.tx_observaciones,callback:function(e){t.$set(t.form,"tx_observaciones",e)},expression:"form.tx_observaciones"}})],1)],1)],1),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("form-buttons",{attrs:{action:t.action,valid:t.valid,loading:t.loading},on:{update:function(e){return t.update()},store:function(e){return t.store()},clear:function(e){return t.clear()},cancel:function(e){return t.cancel()}}})],1),t._v(" "),t.$App.debug?a("pre",[t._v(t._s(t.$data))]):t._e()],1)],1)}),[],!1,null,null,null).exports,A=a("vxxQ"),$={mixins:[o.a],components:{"app-archivo":A.a},props:{evaluacion:{type:Object,default:function(){}}},created:function(){this.form.id_evaluacion=this.evaluacion.id,this.list()},data:function(){return{evaluacionAlumnos:[],calificaciones:[],confirm:!1,confirmEvaluar:!1,form:{id_alumno:null,id_evaluacion:null,id_calificacion:null,tx_observaciones:null}}},methods:{list:function(){var t=this,e="evaluacionAlumno/evaluacion/".concat(this.evaluacion.id);this.getResource(e).then((function(e){return t.evaluacionAlumnos=e})),this.getResource("calificacion").then((function(e){return t.calificaciones=e}))},updateEvaluacion:function(t){var e=this;null!=this.form.id_calificacion&&this.updateResource("evaluacionAlumno/".concat(t.id),this.form).then((function(t){e.showMessage(t.msj)})).finally((function(){e.clearForm(),e.list()}))},setDataForm:function(t){this.form.id_calificacion=t.id_calificacion,this.form.tx_observaciones=t.tx_observaciones,this.form.id_alumno=t.alumno.id},clearForm:function(){this.form.id_alumno=null,this.form.nu_calificacion=null,this.form.tx_observaciones=null},download:function(t){var e=t.tipo_archivo.tx_base_path+t.tx_path;this.$refs.download[0].setAttribute("download",t.nb_real),this.$refs.download[0].setAttribute("href",e),this.$refs.download[0].click(),this.showMessage("Descargando archivo ...")},closeConfirm:function(t,e){this[e]=!1,t&&this.cerrarEvaluacion()},cerrarEvaluacion:function(){var t=this,e={id_usuario:this.idUser};this.updateResource("evaluacion/cerrar/".concat(this.evaluacion.id),e).then((function(e){t.showMessage(e.msj),t.$emit("closeModal",!0)}))}}},S=(a("x4IX"),{components:{"asignar-form":P,"evaluacion-alumno":Object(i.a)($,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{flat:"",height:"80vh"}},[a("v-card-title",{staticClass:"pa-0"},[a("app-simple-toolbar",{attrs:{title:"Calificar Alumnos"},on:{closeModal:function(e){return t.$emit("closeModal",!0)}}})],1),t._v(" "),a("v-card-text",[a("v-row",{attrs:{justify:"center","no-gutters":""}},[a("v-col",{staticClass:"pt-3",attrs:{cols:"12"}},[a("v-list",{attrs:{subheader:"",dense:"",width:"100%"}},[a("v-subheader",[a("v-row",{attrs:{dense:""}},[a("v-col",[t._v("Evaluacion: "+t._s(t.evaluacion.tipo_evaluacion.nb_tipo_evaluacion))]),t._v(" "),a("v-col",[t._v("Tema: "+t._s(t.evaluacion.tx_tema))]),t._v(" "),a("v-col",[t._v("Peso: "+t._s(t.evaluacion.nu_peso)+"%")])],1)],1),t._v(" "),t._l(t.evaluacionAlumnos,(function(e,o){return a("v-list-item",{key:o,attrs:{value:e.id}},[a("v-list-item-avatar",[a("v-icon",{attrs:{color:"indigo",size:"36"}},[t._v("mdi-school")])],1),t._v(" "),a("v-list-item-content",[a("v-list-item-title",{domProps:{textContent:t._s(e.alumno.nb_alumno)}}),t._v(" "),a("v-list-item-subtitle",{domProps:{textContent:t._s(e.alumno.tx_documento)}})],1),t._v(" "),a("v-list-item-action",[a("span",{staticClass:"mr-1"})]),t._v(" "),a("v-list-item-action",[3==t.evaluacion.id_evaluacion_metodo?[e.archivo?a("list-simple-icon",{attrs:{size:34,label:e.archivo.nb_archivo+" subido: "+e.archivo.fe_archivo,color:"green",icon:"mdi-file-download",depressed:""},on:{click:function(a){return t.download(e.archivo)}}}):a("list-simple-icon",{attrs:{size:34,label:"No se ha cargado el docuemnto",color:"red",icon:"mdi-file-cancel",depressed:""}})]:[a("list-simple-icon",{attrs:{icon:t.evaluacion.evaluacion_metodo.tx_icono,color:t.evaluacion.evaluacion_metodo.tx_color,label:t.evaluacion.evaluacion_metodo.nb_evaluacion_metodo}})]],2),t._v(" "),a("v-list-item-action",[11==t.evaluacion.id_status?[a("v-tooltip",{attrs:{bottom:"",color:"red"},scopedSlots:t._u([{key:"activator",fn:function(o){var n=o.on;return[a("v-chip",t._g({staticClass:"field-evaluation body-2",attrs:{outlined:""}},n),[t._v("\n                                        "+t._s(e.calificacion.nu_calificacion)+"\n                                    ")])]}}],null,!0)},[t._v(" "),a("span",[t._v("Evaluacion Cerrada")])])]:[1==t.evaluacion.id_evaluacion_metodo?[a("v-tooltip",{attrs:{bottom:"",color:"amber"},scopedSlots:t._u([{key:"activator",fn:function(o){var n=o.on;return[a("v-chip",t._g({staticClass:"field-evaluation body-2",attrs:{outlined:""}},n),[t._v("\n                                                "+t._s(e.calificacion?e.calificacion.nu_calificacion:"pendiente")+"\n                                            ")])]}}],null,!0)},[t._v(" "),a("span",[t._v("Ir al Modulo de Pruebas")])])]:a("v-edit-dialog",{attrs:{"return-value":e.id,persistent:"",large:"","cancel-text":"Cancelar","save-text":"Guardar"},on:{"update:returnValue":function(a){return t.$set(e,"id",a)},"update:return-value":function(a){return t.$set(e,"id",a)},open:function(a){return t.setDataForm(e)},save:function(a){return t.updateEvaluacion(e)},cancel:function(e){return t.clearForm()}},scopedSlots:t._u([{key:"input",fn:function(){return[a("v-select",{attrs:{items:t.calificaciones,"item-text":"nu_calificacion","item-value":"id",rules:[t.rules.select],label:"calificacion",loading:t.loading,dense:"","full-width":"",autofocus:""},model:{value:t.form.id_calificacion,callback:function(e){t.$set(t.form,"id_calificacion",e)},expression:"form.id_calificacion"}}),t._v(" "),a("v-text-field",{attrs:{rules:[t.rules.max(80)],label:"Observaciones","single-line":""},model:{value:t.form.tx_observaciones,callback:function(e){t.$set(t.form,"tx_observaciones",e)},expression:"form.tx_observaciones"}})]},proxy:!0}],null,!0)},[a("v-tooltip",{attrs:{bottom:"",color:"green"},scopedSlots:t._u([{key:"activator",fn:function(o){var n=o.on;return[a("v-text-field",t._g({staticClass:"field-evaluation body-2 text-center",attrs:{value:e.calificacion?e.calificacion.nu_calificacion:"-",readonly:"","single-line":"","hide-details":"",dense:"",filled:"",type:"number",suffix:"Pts"}},n))]}}],null,!0)},[t._v(" "),e.calificacion?[t._v("\n                                                Letra: "+t._s(e.calificacion.nb_calificacion)+" Ptos Acumulados: "+t._s(e.nu_calificacion)+"\n                                        ")]:[a("span",[t._v("Sin Calificacion")])]],2)],1)]],2)],1)}))],2),t._v(" "),a("a",{ref:"download",staticClass:"d-none",attrs:{target:"_blank",rel:"noopener noreferrer"}})],1)],1)],1),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{staticClass:"mr-1",attrs:{fab:"",depressed:"","x-small":"",color:"error"},on:{click:function(e){return t.$emit("closeModal",!0)}}},[a("v-icon",[t._v("mdi-reply")])],1),t._v(" "),a("v-tooltip",{attrs:{bottom:"",color:"amber"},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[11!=t.evaluacion.id_status?a("v-btn",t._g({attrs:{fab:"",depressed:"",small:"",color:"success",disabled:!t.valid,loading:t.loading},on:{click:function(e){t.confirm=!0}}},o),[a("v-icon",[t._v("mdi-lock")])],1):a("v-btn",t._g({attrs:{fab:"",depressed:"",small:"",color:"error",disabled:!t.valid,loading:t.loading}},o),[a("v-icon",[t._v("mdi-lock-check")])],1)]}}])},[t._v(" "),a("span",[t._v(t._s(11==t.evaluacion.id_status?"Evaluacin Cerrada":"Cerrar Evaluacion"))])])],1),t._v(" "),a("app-confirm",{attrs:{confirm:t.confirm,titulo:"Cerrar Evaluacion",mensaje:"Desea Cerrar la Evaluacion?"},on:{closeConfirm:function(e){return t.closeConfirm(e,"confirm")}}}),t._v(" "),a("v-overlay",{attrs:{absolute:"",opacity:.3,value:t.loading,"z-index":10}},[a("v-icon",{staticClass:"mdi-spin",attrs:{size:"40"}},[t._v("mdi-loading")])],1),t._v(" "),t.$App.debug?a("pre",[t._v(t._s(t.$data))]):t._e()],1)}),[],!1,null,"2831de4b",null).exports},mixins:[w.a],watch:{planEvaluacion:function(t,e){t!=e&&(this.items=[],this.list())}},props:{planEvaluacion:{type:[Object],default:function(){}}},data:function(){return{resource:"evaluacion/planEvaluacion/".concat(this.planEvaluacion.id),title:"Asignar Evaluacion",item:[],items:[],headers:[{text:"Evaluacion",value:"tipo_evaluacion.nb_tipo_evaluacion"},{text:"peso",value:"nu_peso"},{text:"Tema",value:"tx_tema"},{text:"Planificada",value:"fe_planificada"},{text:"Fecha Ejecucion",value:"fe_evaluacion"},{text:"Status",value:"id_status"},{text:"Metodo",value:"evaluacion_metodo"},{text:"Hora Ini/Fin",value:"hh_inicio"},{text:"acciones",value:"acciones"}],itemsMenu:[{action:"addEjecucion",icon:"mdi-calendar-edit",label:"Asignar Evaluacion"},{action:"evaluarAlumnos",icon:"mdi-account-multiple-check",label:"Evaluar Alumnos"}],dialogEjecucion:!1,dialogEvaluar:!1,evaluacion:null}},methods:{addEjecucion:function(t){this.updateForm(t)},evaluarAlumnos:function(t){if(t.id_status<10)return this.showError("Indique metodo de evaluacion y fecha de realizacion de la evaluacion");this.evaluacion=t,this.dialogEvaluar=!0},closeDialog:function(t,e){this[e]=!1,this.evaluacion=null,t&&this.list()}}}),j=Object(i.a)(S,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-row",[a("v-data-table",{staticClass:"rounded-xl col-12",attrs:{headers:t.headers,items:t.items,"item-key":"id",loading:t.loading,"sort-by":"","hide-default-footer":"",dense:""},scopedSlots:t._u([{key:"item",fn:function(e){var o=e.item;return[a("tr",[a("td",{staticClass:"text-left",domProps:{textContent:t._s(o.tipo_evaluacion.nb_tipo_evaluacion)}}),t._v(" "),a("td",{staticClass:"text-left"},[t._v(t._s(o.nu_peso)+" %")]),t._v(" "),a("td",{staticClass:"text-left"},[a("list-simple-icon",{attrs:{icon:"mdi-card-text-outline",color:"green",label:o.tx_tema}})],1),t._v(" "),a("td",{staticClass:"text-left"},[t._v(t._s(t._f("formatDate")(o.fe_planificada)))]),t._v(" "),a("td",{staticClass:"text-left"},[t._v(t._s(t._f("formatDate")(o.fe_evaluacion)))]),t._v(" "),a("td",{staticClass:"text-left"},[a("list-simple-icon",{attrs:{icon:o.status.tx_icono,color:o.status.tx_color,label:o.status.nb_status}})],1),t._v(" "),a("td",{staticClass:"text-left"},[o.id_status>9?[a("list-simple-icon",{attrs:{icon:o.evaluacion_metodo.tx_icono,color:o.evaluacion_metodo.tx_color,label:o.evaluacion_metodo.nb_evaluacion_metodo}})]:[t._v("-")]],2),t._v(" "),a("td",{staticClass:"text-left"},[o.hh_inicio?[a("list-simple-icon",{attrs:{icon:"mdi-clock-outline",color:"blue",label:o.hh_inicio+" - "+o.hh_fin}})]:[a("list-simple-icon",{attrs:{icon:"mdi-clock",color:"amber",label:"Todo el dia"}})]],2),t._v(" "),a("td",{staticClass:"text-left py-1"},[a("item-menu",{attrs:{menus:t.itemsMenu,iconColor:"indigo",btnColor:"indigo lighten-5",item:o},on:{onItemMenu:function(e){return t.onItemMenu(e)}}})],1)])]}}])}),t._v(" "),a("v-dialog",{attrs:{"max-width":"600","content-class":"rounded-xl",scrollable:""},model:{value:t.dialogEvaluar,callback:function(e){t.dialogEvaluar=e},expression:"dialogEvaluar"}},[t.dialogEvaluar?a("evaluacion-alumno",{attrs:{evaluacion:t.evaluacion},on:{closeModal:function(e){return t.closeDialog(e,"dialogEvaluar")}}}):t._e()],1),t._v(" "),a("app-modal",{attrs:{modal:t.modal,"head-color":t.$App.theme.headModal,title:t.title},on:{closeModal:function(e){return t.closeModal()}}},[a("asignar-form",{attrs:{action:"upd",item:t.item},on:{closeModal:function(e){return t.closeModal()}}})],1),t._v(" "),t.$App.debug?a("pre",[t._v(t._s(t.$data))]):t._e()],1)}),[],!1,null,null,null).exports,D={mixins:[o.a],components:{"asignar-evaluacion":j},created:function(){this.list()},computed:{docente:function(){return this.$store.getters.getDocente}},data:function(){return{periodos:[],periodo:null,grados:[],grado:null,grupos:[],grupo:null,materia:[],planesEvaluacion:[]}},methods:{list:function(){var t=this;this.planesEvaluacion=[],this.getResource("periodo/list").then((function(e){return t.periodos=e})),this.getGradoDetalle()},getGradoDetalle:function(){var t=this;this.planesEvaluacion=[],this.getResource("grado/planEvaluacion/docente/".concat(this.docente.id)).then((function(e){return t.grados=e}))},getGrupos:function(t){this.planesEvaluacion=[],this.grupos=t.grupo.length>0?t.grupo:[]},getPlanesEvaluacion:function(t){this.planesEvaluacion=t.plan_evaluacion}}},R=Object(i.a)(D,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{flat:"",loading:t.loading,height:"90vh"}},[a("v-card-title",{staticClass:"pa-0"},[a("app-simple-toolbar",{attrs:{title:"Evaluaciones"},on:{closeModal:function(e){return t.$emit("closeModal",!0)}}})],1),t._v(" "),a("v-card-text",{staticClass:"pt-2"},[a("v-row",[a("v-col",{attrs:{cols:"12",sd:"6",md:"4"}},[a("v-select",{attrs:{items:t.periodos,"item-text":"nb_periodo","item-value":"id",label:"Seleccione Periodo",loading:t.loading,dense:"",rounded:"",filled:""},model:{value:t.periodo,callback:function(e){t.periodo=e},expression:"periodo"}})],1),t._v(" "),a("v-col",{attrs:{cols:"12",sd:"6",md:"4"}},[a("v-select",{attrs:{items:t.grados,"item-text":"nb_grado","item-value":"id",label:"Seleccione Grado",loading:t.loading,dense:"",rounded:"",filled:"",disabled:null==t.periodo,"return-object":""},on:{change:function(e){return t.getGrupos(e)}},model:{value:t.grado,callback:function(e){t.grado=e},expression:"grado"}})],1),t._v(" "),a("v-col",{attrs:{cols:"12",sd:"6",md:"4"}},[a("v-select",{attrs:{items:t.grupos,"item-text":"nb_grupo","item-value":"id",label:"Seleccione Grupo",loading:t.loading,dense:"",rounded:"",filled:"","return-object":"",disabled:t.grupos.length<1},on:{change:function(e){return t.getPlanesEvaluacion(e)}},model:{value:t.grupo,callback:function(e){t.grupo=e},expression:"grupo"}})],1)],1),t._v(" "),t.planesEvaluacion.length<1?a("v-alert",{staticClass:"mt-3",attrs:{type:"warning",value:!0,prominent:"",outlined:"",border:"left"}},[t._v("\n            Seleccione un Período, Grado y Grupo\n        ")]):a("v-expansion-panels",{staticClass:"rounded-xl",attrs:{focusable:"",accordion:""}},t._l(t.planesEvaluacion,(function(e){return a("v-expansion-panel",{key:e.id},[a("v-expansion-panel-header",{scopedSlots:t._u([{key:"default",fn:function(){return[a("div",[a("v-icon",{staticClass:"mr-1",attrs:{color:"red"}},[t._v("mdi-bookshelf")]),t._v(" "+t._s(e.materia.nb_materia)+" \n                            ")],1)]},proxy:!0}],null,!0)}),t._v(" "),a("v-expansion-panel-content",[a("asignar-evaluacion",{attrs:{planEvaluacion:e}})],1)],1)})),1)],1)],1)}),[],!1,null,null,null).exports,O={mixins:[E.a],props:{docente:{type:Object,default:function(){}},materias:{type:Array,default:function(){}},grado:{type:Object,default:function(){}}},data:function(){return{resource:"prueba",dates:{fe_prueba:null},pickers:{fe_prueba:null},form:{id:null,nb_prueba:null,id_grado:null,id_grupo:null,id_materia:null,id_docente:null,id_evaluacion_detalle:null,bo_ver_resultado:null,nu_minutos:null,fe_prueba:null,hh_inicio:null,hh_fin:null,nu_valor_total:null,tx_observaciones:null,id_status:null,id_usuario:null},selects:{status:["/grupo/GRAL"]},default:{id_status:3},defaultForm:{bo_ver_resultado:0},menuAyudaVerResultado:!1}},methods:{extraActions:function(t){this.form.id_grado=this.grado.id,this.form.id_docente=this.docente.id}}},I=Object(i.a)(O,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-card",{attrs:{loading:t.loading,flat:""}},[a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{rules:[t.rules.required],label:"Nombre de la Prueba",placeholder:"Indique Nombre de la Prueba",dense:""},model:{value:t.form.nb_prueba,callback:function(e){t.$set(t.form,"nb_prueba",e)},expression:"form.nb_prueba"}})],1),t._v(" "),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-select",{attrs:{items:t.materias,"item-text":"nb_materia","item-value":"id",rules:[t.rules.select],label:"Materia",loading:t.loading,dense:""},model:{value:t.form.id_materia,callback:function(e){t.$set(t.form,"id_materia",e)},expression:"form.id_materia"}})],1),t._v(" "),a("v-tooltip",{attrs:{right:"",color:"success"},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[a("v-checkbox",t._g({staticClass:"col-auto  ml-3",attrs:{rules:[t.rules.check],label:"Mostrar Resultados","true-value":1,"false-value":0,indeterminate:null==t.form.bo_ver_resultado,dense:"","append-icon":"mdi-help-rhombus"},on:{"click:append":function(e){t.menuAyudaVerResultado=!t.menuAyudaVerResultado}},model:{value:t.form.bo_ver_resultado,callback:function(e){t.$set(t.form,"bo_ver_resultado",e)},expression:"form.bo_ver_resultado"}},o))]}}]),model:{value:t.menuAyudaOpcional,callback:function(e){t.menuAyudaOpcional=e},expression:"menuAyudaOpcional"}},[t._v(" "),a("span",[t._v("Indica si se muestran lo resultados de la prueba al finalizar")])]),t._v(" "),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{rules:[t.rules.max(100)],label:"Observaciones",placeholder:"Indique Observaciones",dense:""},model:{value:t.form.tx_observaciones,callback:function(e){t.$set(t.form,"tx_observaciones",e)},expression:"form.tx_observaciones"}})],1)],1)],1),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("form-buttons",{attrs:{action:t.action,valid:t.valid,loading:t.loading},on:{update:function(e){return t.update()},store:function(e){return t.store()},clear:function(e){return t.clear()},cancel:function(e){return t.cancel()}}})],1),t._v(" "),t.$App.debug?a("pre",[t._v(t._s(t.$data))]):t._e()],1)],1)}),[],!1,null,null,null).exports,T=a("ucUu"),z=a("Ko0b"),F={mixins:[w.a],components:{"prueba-form":I,"app-pregunta":T.a,"importar-pregunta":z.a},watch:{grado:function(t){this.items=[],this.materia=null}},props:{docente:{type:Object,default:function(){}},materias:{type:Array,default:function(){}},grado:{type:Object,default:function(){}}},data:function(){return{autolist:!1,title:"Prueba",resource:"prueba",headers:[{text:"Prueba",value:"nb_prueba"},{text:"Grado",value:"id_grupo"},{text:"Fecha Ejecucion",value:"fe_prueba"},{text:"Status",value:"status"},{text:"Acciones",value:"actions",sortable:!1,filterable:!1}],itemsMenu:[{action:"addPreguntas",icon:"mdi-format-list-checkbox",label:"Crear Preguntas"},{action:"importPreguntas",icon:"mdi-import",label:"Importar Preguntas"}],dialogPregunta:!1,dialogImportar:!1,prueba:null,materia:null}},methods:{getPruebas:function(){this.materia&&this.list()},listUrl:function(){return"".concat(this.fullUrl,"/docente/").concat(this.docente.id,"/grado/").concat(this.grado.id,"/materia/").concat(this.materia)},addPreguntas:function(t){this.dialogPregunta=!0,this.prueba=t},importPreguntas:function(t){this.dialogImportar=!0,this.prueba=t},closeDialog:function(t){this.dialogImportar=!1,this.dialogPregunta=!1,this.prueba=null,t&&this.list()}}},N=Object(i.a)(F,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{flat:""}},[a("v-row",[a("v-spacer"),t._v(" "),a("add-button",{on:{insItem:function(e){return t.insertForm()}}})],1),t._v(" "),a("v-row",[a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-select",{attrs:{items:t.materias,"item-text":"nb_materia","item-value":"id",label:"Materia",hint:"Seleccione una materia para listar las pruebas","persistent-hint":"",loading:t.loading,dense:""},on:{change:function(e){return t.getPruebas()}},model:{value:t.materia,callback:function(e){t.materia=e},expression:"materia"}})],1),t._v(" "),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{"append-icon":"search",label:"Buscar","hide-details":"",clearable:"",dense:""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1),t._v(" "),a("v-data-table",{attrs:{headers:t.headers,dense:"",items:t.items,search:t.search,"item-key":"id",loading:t.loading,"sort-by":"","no-data-text":t.materia?"No se han cargado pruebas":"Seleccione Materia"},scopedSlots:t._u([{key:"item",fn:function(e){var o=e.item;return[a("tr",[a("td",{staticClass:"text-xs-left"},[t._v(t._s(o.nb_prueba))]),t._v(" "),a("td",{staticClass:"text-xs-left"},[t._v(t._s(o.grado.nb_grado))]),t._v(" "),a("td",{staticClass:"text-xs-left"},[t._v(t._s(t._f("formatDate")(o.fe_prueba)))]),t._v(" "),a("td",{staticClass:"text-xs-left"},[t._v(t._s(o.status.nb_status))]),t._v(" "),a("td",{staticClass:"text-xs-left"},[o.id_status<5?a("list-buttons",{on:{update:function(e){return t.updateForm(o)},delete:function(e){return t.deleteForm(o)}}},[a("item-menu",{attrs:{menus:t.itemsMenu,iconColor:"white",btnColor:"cyan",item:o},on:{onItemMenu:function(e){return t.onItemMenu(e)}}})],1):t._e()],1)])]}}])}),t._v(" "),a("app-modal",{attrs:{modal:t.modal,"head-color":t.$App.theme.headModal,title:t.title},on:{closeModal:function(e){return t.closeModal()}}},[a("prueba-form",{attrs:{action:t.action,item:t.item,docente:t.docente,grado:t.grado,materias:t.materias},on:{closeModal:function(e){return t.closeModal()}}})],1),t._v(" "),a("form-delete",{attrs:{dialog:t.dialog,loading:t.loading,message:"Desea eliminar el Registro Seleccionado?"},on:{deleteItem:function(e){return t.deleteItem()},deleteCancel:function(e){return t.deleteCancel()}}}),t._v(" "),a("v-dialog",{attrs:{"max-width":"95vw","content-class":"rounded-xl",scrollable:""},model:{value:t.dialogPregunta,callback:function(e){t.dialogPregunta=e},expression:"dialogPregunta"}},[t.dialogPregunta?a("app-pregunta",{attrs:{prueba:t.prueba},on:{closeModal:function(e){return t.closeDialog(e)}}}):t._e()],1),t._v(" "),a("v-dialog",{attrs:{"max-width":"60vw","content-class":"rounded-xl",scrollable:""},model:{value:t.dialogImportar,callback:function(e){t.dialogImportar=e},expression:"dialogImportar"}},[t.dialogImportar?a("importar-pregunta",{attrs:{prueba:t.prueba},on:{closeModal:function(e){return t.closeDialog(e)}}}):t._e()],1),t._v(" "),t.$App.debug?a("pre",[t._v(t._s(t.$data))]):t._e()],1)}),[],!1,null,null,null).exports,U={mixins:[o.a],components:{"list-prueba":N},created:function(){this.list()},computed:{docente:function(){return this.$store.getters.getDocente}},data:function(){return{section:null,grados:[],itemsMenu:[{label:"Evaluaciones Alumno",icon:"mdi-notebook",action:"addEvaluacion"},{label:"Notificar Alumno",icon:"mdi-bell-alert",action:"addNotificacion"}],dialogNotificacion:!1,notificacion:{}}},methods:{list:function(){var t=this;this.getResource("grado/materia/docente/".concat(this.docente.id)).then((function(e){return t.grados=e}))}}},G=Object(i.a)(U,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{flat:"",loading:t.loading,height:"80vh"}},[a("v-card-title",{staticClass:"pa-0"},[a("app-simple-toolbar",{attrs:{title:"pruebas"},on:{closeModal:function(e){return t.$emit("closeModal")}}})],1),t._v(" "),a("v-card-text",{staticClass:"pt-2"},[a("v-row",{attrs:{justify:"center"}},[a("v-expansion-panels",{staticClass:"rounded-xl",attrs:{focusable:"",accordion:""},model:{value:t.section,callback:function(e){t.section=e},expression:"section"}},t._l(t.grados,(function(e){return a("v-expansion-panel",{key:e.id},[a("v-expansion-panel-header",{scopedSlots:t._u([{key:"default",fn:function(){return[a("div",[a("v-icon",{staticClass:"mr-1",attrs:{color:"red"}},[t._v("mdi-numeric")]),t._v(" "+t._s(e.nb_grado))],1)]},proxy:!0}],null,!0)}),t._v(" "),a("v-expansion-panel-content",[a("list-prueba",{attrs:{docente:t.docente,materias:e.materia,grado:e}})],1)],1)})),1)],1)],1)],1)}),[],!1,null,null,null).exports,W={mixins:[E.a],props:{grupo:{type:Number,default:null}},data:function(){return{resource:"prueba/asignar",form:{id:null,id_grupo:null,id_evaluacion:null,tx_observaciones:null,id_usuario:null},selects:{evaluacion:["/materia/".concat(this.item.id_materia,"/grupo/").concat(this.grupo,"/prueba")]}}},methods:{extraActions:function(){this.form.id_grupo=this.grupo}}},H=Object(i.a)(W,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-card",{attrs:{loading:t.loading,flat:""}},[a("v-card-title",{staticClass:"pa-0"},[a("app-simple-toolbar",{attrs:{title:"Asignar Prueba"},on:{closeModal:function(e){return t.$emit("closeModal",!0)}}})],1),t._v(" "),a("v-card-text",{staticClass:"mt-4"},[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-select",{attrs:{items:t.selects.evaluacion,"item-text":"tx_tema","item-value":"id",rules:[t.rules.select],label:"Evaluacion",hint:"Asignar Evaluacion del tipo 'Prueba' (Ver modulo Evaluaciones)","persistent-hint":"",loading:t.loading,dense:""},model:{value:t.form.id_evaluacion,callback:function(e){t.$set(t.form,"id_evaluacion",e)},expression:"form.id_evaluacion"}})],1)],1)],1),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("form-buttons",{attrs:{action:t.action,valid:t.valid,loading:t.loading},on:{update:function(e){return t.update()},cancel:function(e){return t.cancel()}}})],1),t._v(" "),t.$App.debug?a("pre",[t._v(t._s(t.$props))]):t._e()],1)],1)}),[],!1,null,null,null).exports;function V(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=function(t,e){if(!t)return;if("string"==typeof t)return L(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(a);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return L(t,e)}(t))){var e=0,a=function(){};return{s:a,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,n,i=!0,l=!1;return{s:function(){o=t[Symbol.iterator]()},n:function(){var t=o.next();return i=t.done,t},e:function(t){l=!0,n=t},f:function(){try{i||null==o.return||o.return()}finally{if(l)throw n}}}}function L(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,o=new Array(e);a<e;a++)o[a]=t[a];return o}var q={mixins:[o.a],props:{prueba:{type:Object,default:function(){}},grupo:{type:Number,default:null},materia:{type:Number,default:null}},created:function(){this.list(),this.form.id_prueba=this.prueba.id,this.form.id_usuario=this.idUser},computed:{isSelectAll:function(){return this.alumnos.length>0&&this.alumnos.length==this.alumnosSelected.length}},data:function(){return{alumnos:[],alumnosSelected:[],form:{id_prueba_alumno:[],id_prueba:[],id_alumnos:null,id_usuario:null},validateForm:!1}},methods:{list:function(){var t=this;console.log("liss"),this.getResource("alumno/prueba/".concat(this.prueba.id,"/evaluacion/").concat(this.prueba.id_evaluacion)).then((function(e){return t.alumnos=e}))},setAll:function(t){if(t){var e,a=[],o=V(this.alumnos);try{for(o.s();!(e=o.n()).done;){var n=e.value;n.prueba_alumno.length>0&&a.push(n.prueba_alumno[0].id)}}catch(t){o.e(t)}finally{o.f()}this.alumnosSelected=[],this.delete(a)}else{var i,l=[],r=V(this.alumnos);try{for(r.s();!(i=r.n()).done;){var s=i.value;this.alumnosSelected.includes(s.id)||l.push(s.id)}}catch(t){r.e(t)}finally{r.f()}this.alumnosSelected=l,this.store(l)}},hasPrueba:function(t){var e=t.prueba_alumno.length>0;return e&&!this.alumnosSelected.includes(t.id)&&this.alumnosSelected.push(t.id),e},asignacionAlumno:function(t){this.hasPrueba(t)?this.delete([t.prueba_alumno[0].id]):this.store([t.id])},store:function(t){var e=this;this.form.id_alumnos=t,this.storeResource("pruebaAlumno",this.form).then((function(a){e.showMessage(a.msj),e.alumnosSelected.concat(t)}))},delete:function(t){var e=this;this.form.id_prueba_alumno=t,this.deleteResource("pruebaAlumno/0",this.form).then((function(t){e.showMessage(t.msj),e.list()}))}}},B=Object(i.a)(q,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{flat:"",height:"80vh"}},[a("v-card-title",{staticClass:"pa-0"},[a("app-simple-toolbar",{attrs:{title:"Asignar Alumnos"},on:{closeModal:function(e){return t.$emit("closeModal",!0)}}})],1),t._v(" "),a("v-card-title",{staticClass:"pa-0",attrs:{dense:""}},[a("v-toolbar",{attrs:{color:"grey lighten-4 subtitle-2",flat:"",dense:""}},[a("v-icon",{staticClass:"mr-1",attrs:{color:"orange"}},[t._v("mdi-account-plus")]),t._v(" "),a("div",{staticClass:"indigo--text"},[t._v("Asignar Alumnos")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-checkbox",{staticClass:"mt-5",attrs:{label:"Todos",value:t.isSelectAll,disabled:t.loading},on:{click:function(e){return e.stopPropagation(),t.setAll(t.isSelectAll)}}})],1)],1),t._v(" "),a("v-card-text",[a("v-row",{attrs:{justify:"center","no-gutters":""}},[a("v-col",{staticClass:"pt-3",attrs:{cols:"12"}},[a("v-list",{staticClass:"rounded-xl",attrs:{subheader:"",dense:"",width:"100%",rounded:""}},[a("v-list-item-group",{attrs:{multiple:""},model:{value:t.alumnosSelected,callback:function(e){t.alumnosSelected=e},expression:"alumnosSelected"}},t._l(t.alumnos,(function(e,o){return a("v-list-item",{key:o,attrs:{value:e.id,hasMateria:t.hasPrueba(e)},on:{click:function(a){return a.stopPropagation(),t.asignacionAlumno(e)}},scopedSlots:t._u([{key:"default",fn:function(o){var n=o.active;return[a("v-list-item-avatar",[a("v-icon",{attrs:{color:"indigo",size:"36"}},[t._v("mdi-school")])],1),t._v(" "),a("v-list-item-content",[a("v-list-item-title",{domProps:{textContent:t._s(e.nb_alumno)}}),t._v(" "),a("v-list-item-subtitle",{domProps:{textContent:t._s(e.tx_documento)}})],1),t._v(" "),a("v-list-item-action",[a("v-checkbox",{attrs:{"input-value":n,disabled:t.loading}})],1)]}}],null,!0)})})),1)],1)],1)],1)],1),t._v(" "),t.$App.debug?a("pre",[t._v(t._s(t.$data))]):t._e()],1)}),[],!1,null,null,null).exports,Q={mixins:[o.a],components:{"asignar-prueba-form":H,"asignar-alumnos":B},created:function(){this.list()},computed:{docente:function(){return this.$store.getters.getDocente}},data:function(){return{grados:[],grupos:[],materias:[],pruebasPendientes:[],pruebasAsignadas:[],grado:null,grupo:null,materia:null,prueba:null,headers:[{text:"Prueba",value:"nb_prueba"},{text:"Grupo",value:"grupo.nb_grupo"},{text:"Materia",value:"materia.nb_materia"},{text:"Evaluacion",value:"evaluacion.tx_tema"},{text:"Alumnos",value:"alumno"},{text:"Acciones",value:"actions",sortable:!1,filterable:!1}],validateForm:!1,dialogAsignarPrueba:!1,dialogoAlumnos:!1}},methods:{list:function(){var t=this;this.getResource("grado/grupo/docente/".concat(this.docente.id)).then((function(e){return t.grados=e}))},getGrupos:function(t){this.grupos=t.grupo,this.materia=null,this.pprueba=null,this.pruebasAsignadas=[],this.pruebasPendientes=[]},getMaterias:function(t){var e=this;this.materias=[],this.materia=null,this.prueba=null,this.pruebasAsignadas=[],this.pruebasPendientes=[],this.grupo&&this.getResource("materia/grupo/".concat(t,"/docente/").concat(this.docente.id)).then((function(t){return e.materias=t}))},getPruebas:function(){this.getPruebasPendientes(),this.getPruebasAsignadas()},getPruebasAsignadas:function(){var t=this;this.pruebasAsignadas=[],this.materia&&this.getResource("prueba/docente/".concat(this.docente.id,"/grado/").concat(this.grado.id,"/materia/").concat(this.materia,"/asignada")).then((function(e){return t.pruebasAsignadas=e}))},getPruebasPendientes:function(){var t=this;this.pruebasPendientes=[],this.materia&&this.getResource("prueba/docente/".concat(this.docente.id,"/grado/").concat(this.grado.id,"/materia/").concat(this.materia,"/pendiente")).then((function(e){return t.pruebasPendientes=e}))},asignarPrueba:function(){this.prueba?this.dialogAsignarPrueba=!0:this.showError("Favor seleccionar una Prueba")},removerAsignacion:function(t){var e=this,a={id_usuario:this.idUser};this.updateResource("prueba/remover/".concat(t.id),a).then((function(t){e.showMessage(t.msj),e.getPruebasAsignadas(),e.getPruebasPendientes()}))},asignarAlumnos:function(t){this.prueba=t,this.dialogoAlumnos=!0},closeDialog:function(t,e){this.prueba=null,this[e]=!1,"dialogAsignarPrueba"==e&&this.getPruebas(),t&&this.getPruebasAsignadas()}}},Y=Object(i.a)(Q,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{loading:t.loading,flat:"",height:"80vh"}},[a("v-card-title",{staticClass:"pa-0"},[a("app-simple-toolbar",{attrs:{title:"Asignar Pruebas"},on:{closeModal:function(e){return t.$emit("closeModal",!0)}}})],1),t._v(" "),a("v-card-text",[a("v-row",{staticClass:"mt-3",attrs:{"no-gutters":""}},[a("v-col",{staticClass:"px-2",attrs:{cols:"12",md:"4"}},[a("v-select",{attrs:{items:t.grados,"item-text":"nb_grado","item-value":"id",rules:[t.rules.select],label:"Grados",loading:t.loading,dense:"",filled:"",outlined:"",rounded:"",color:"indigo lighten-3","return-object":""},on:{change:function(e){return t.getGrupos(e)}},model:{value:t.grado,callback:function(e){t.grado=e},expression:"grado"}})],1),t._v(" "),a("v-col",{staticClass:"px-2",attrs:{cols:"12",md:"4"}},[a("v-select",{attrs:{items:t.grupos,"item-text":"nb_grupo","item-value":"id",rules:[t.rules.select],label:"Grupos",loading:t.loading,dense:"",filled:"",outlined:"",rounded:"",color:"indigo lighten-3",disabled:t.grupos.length<1},on:{change:function(e){return t.getMaterias(e)}},model:{value:t.grupo,callback:function(e){t.grupo=e},expression:"grupo"}})],1),t._v(" "),a("v-col",{staticClass:"px-2",attrs:{cols:"12",md:"4"}},[a("v-select",{attrs:{items:t.materias,"item-text":"nb_materia","item-value":"id",rules:[t.rules.select],label:"Materias",loading:t.loading,dense:"",filled:"",outlined:"",rounded:"",color:"indigo lighten-3",disabled:t.materias.length<1},on:{change:function(e){return t.getPruebas(e)}},model:{value:t.materia,callback:function(e){t.materia=e},expression:"materia"}})],1)],1),t._v(" "),a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{staticClass:"px-2",attrs:{cols:"11"}},[a("v-select",{attrs:{items:t.pruebasPendientes,"item-text":"nb_prueba","item-value":"id",label:"Pruebas sin Asignar",loading:t.loading,dense:"",filled:"",outlined:"",rounded:"",color:"indigo lighten-3","return-object":"",disabled:t.pruebasPendientes.length<1},model:{value:t.prueba,callback:function(e){t.prueba=e},expression:"prueba"}})],1),t._v(" "),a("v-col",{staticClass:"text-center"},[a("app-button",{attrs:{disabled:!t.prueba,color:"success",icon:"mdi-text-box-check-outline",label:"Asignar Grupo",loading:t.loading},on:{click:function(e){return t.asignarPrueba()}}}),t._v(" "),a("v-dialog",{attrs:{"max-width":"500","content-class":"rounded-xl",scrollable:""},model:{value:t.dialogAsignarPrueba,callback:function(e){t.dialogAsignarPrueba=e},expression:"dialogAsignarPrueba"}},[t.dialogAsignarPrueba?a("asignar-prueba-form",{attrs:{item:t.prueba,grupo:t.grupo,action:"upd"},on:{closeModal:function(e){return t.closeDialog(e,"dialogAsignarPrueba")}}}):t._e()],1)],1)],1),t._v(" "),a("v-row",{attrs:{"no-gutters":""}},[a("v-col",[a("v-subheader",{staticClass:"grey pl-4 lighten-3 rounded-t-lg"},[a("v-icon",{staticClass:"mr-2",attrs:{color:"orange"}},[t._v("mdi-book-lock")]),t._v("Pruebas Asignadas\n                ")],1),t._v(" "),a("v-data-table",{attrs:{headers:t.headers,dense:"",items:t.pruebasAsignadas,search:t.search,"item-key":"id",loading:t.loading,"sort-by":"","no-data-text":t.materia?"No se han cargado pruebas":"Seleccione Materia"},scopedSlots:t._u([{key:"item",fn:function(e){var o=e.item;return[a("tr",[a("td",{staticClass:"text-xs-left"},[t._v(t._s(o.nb_prueba))]),t._v(" "),a("td",{staticClass:"text-xs-left"},[t._v(t._s(o.grupo.nb_grupo))]),t._v(" "),a("td",{staticClass:"text-xs-left"},[t._v(t._s(o.materia.nb_materia))]),t._v(" "),a("td",{staticClass:"text-xs-left"},[t._v(t._s(o.evaluacion.tx_tema))]),t._v(" "),a("td",{staticClass:"text-xs-left"},[t._v(t._s(o.alumno.length))]),t._v(" "),a("td",{staticClass:"text-xs-left py-1"},[a("app-button",{attrs:{color:"amber",icon:"mdi-account-multiple-plus",label:"Asignar Alumnos",loading:t.loading},on:{click:function(e){return t.asignarAlumnos(o)}}}),t._v(" "),4==o.id_status?a("app-button",{attrs:{color:"red",icon:"mdi-text-box-remove-outline",label:"Remover Asignacion",loading:t.loading},on:{click:function(e){return t.removerAsignacion(o)}}}):t._e()],1)])]}}])})],1)],1)],1),t._v(" "),a("v-dialog",{attrs:{"max-width":"700","content-class":"rounded-xl",scrollable:""},model:{value:t.dialogoAlumnos,callback:function(e){t.dialogoAlumnos=e},expression:"dialogoAlumnos"}},[t.dialogoAlumnos?a("asignar-alumnos",{attrs:{grupo:t.grupo,materia:t.materia,prueba:t.prueba},on:{closeModal:function(e){return t.closeDialog(e,"dialogoAlumnos")}}}):t._e()],1),t._v(" "),t.$App.debug?a("pre",[t._v(t._s(t.$data))]):t._e()],1)}),[],!1,null,null,null).exports,J={mixins:[E.a],data:function(){return{resource:"prueba/ejecutar",form:{id:null,bo_ver_resultado:null,nu_minutos:null,id_usuario:null},defaultForm:{bo_ver_resultado:0},menuVerResultado:!1,evaluaciones:[{id:1,nb_evaluacion:"Prueba corta Nro1"},{id:2,nb_evaluacion:"Prueba corta Nro2"}]}},methods:{}},K=Object(i.a)(J,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-card",{attrs:{loading:t.loading,flat:""}},[a("v-card-title",{staticClass:"pa-0"},[a("app-simple-toolbar",{attrs:{title:"Ejecutar Prueba"},on:{closeModal:function(e){return t.$emit("closeModal",!0)}}})],1),t._v(" "),a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"5"}},[a("v-select",{attrs:{items:t.selectMinutos,rules:[t.rules.select],label:"Tiempo de ejecucion",hint:(t.form.nu_minutos?t.form.nu_minutos:0)+" Minutos","persistent-hint":"",loading:t.loading,dense:""},model:{value:t.form.nu_minutos,callback:function(e){t.$set(t.form,"nu_minutos",e)},expression:"form.nu_minutos"}})],1),t._v(" "),a("v-tooltip",{attrs:{right:"",color:"success"},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[a("v-checkbox",t._g({staticClass:"col-auto  ml-3",attrs:{rules:[t.rules.check],label:"Mostrar Resultados","true-value":1,"false-value":0,indeterminate:null==t.form.bo_ver_resultado,dense:"","append-icon":"mdi-help-rhombus"},on:{"click:append":function(e){t.menuVerResultado=!t.menuVerResultado}},model:{value:t.form.bo_ver_resultado,callback:function(e){t.$set(t.form,"bo_ver_resultado",e)},expression:"form.bo_ver_resultado"}},o))]}}]),model:{value:t.menuVerResultado,callback:function(e){t.menuVerResultado=e},expression:"menuVerResultado"}},[t._v(" "),a("span",[t._v("Indica si se mostraran los resultados al finalizar la prueba")])])],1)],1),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("form-buttons",{attrs:{action:t.action,valid:t.valid,loading:t.loading},on:{update:function(e){return t.update()},cancel:function(e){return t.cancel()}}})],1),t._v(" "),t.$App.debug?a("pre",[t._v(t._s(t.$data))]):t._e()],1)],1)}),[],!1,null,null,null).exports,X={mixins:[o.a],components:{"ejecutar-prueba-form":K},created:function(){this.list()},computed:{docente:function(){return this.$store.getters.getDocente}},data:function(){return{pruebas:[],headers:[{text:"Prueba",value:"nb_prueba"},{text:"Grupo",value:"grupo.nb_grupo"},{text:"Materia",value:"materia.nb_materia"},{text:"Alumnos",value:"alumno"},{text:"Fecha",value:"fe_prueba"},{text:"inicio",value:"hh_inicio"},{text:"fin",value:"hh_fin"},{text:"Status",value:"status.nb_status"},{text:"Acciones",value:"actions",sortable:!1,filterable:!1}],validateForm:!1,dialogEjecutar:!1,dialogCancelar:!1,dialogReiniciar:!1}},methods:{list:function(){var t=this;this.getResource("prueba/docente/".concat(this.docente.id,"/ejecutar")).then((function(e){return t.pruebas=e}))},ejecutarPrueba:function(){this.dialogEjecutar=!0},closeDialog:function(t,e){this[e]=!1,this.list()},showConfirm:function(t){this[t]=!0},closeConfirm:function(t,e,a){this[e]=!1,t&&"dialogCancelar"==e&&this.cancelarPrueba(a),t&&"dialogReiniciar"==e&&this.reiniciarPrueba(a)},cancelarPrueba:function(t){var e=this;this.updateResource("prueba/cancelar/".concat(t.id),{id_usuario:this.idUser}).then((function(t){e.showMessage(t.msj),e.list()}))},reiniciarPrueba:function(t){var e=this;this.updateResource("prueba/reiniciar/".concat(t.id),{id_usuario:this.idUser}).then((function(t){e.showMessage(t.msj),e.list()}))}}},Z=Object(i.a)(X,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{loading:t.loading,flat:"",height:"80vh"}},[a("v-card-title",{staticClass:"pa-0"},[a("app-simple-toolbar",{attrs:{title:"Ejecutar Pruebas"},on:{closeModal:function(e){return t.$emit("closeModal",!0)}}})],1),t._v(" "),a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"10",md:"6"}},[a("v-text-field",{attrs:{"append-icon":"search",label:"Buscar","hide-details":"",clearable:"",dense:""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),a("v-spacer"),t._v(" "),a("v-col",{staticClass:"text-center"},[a("app-button",{attrs:{color:"info",icon:"mdi-table-refresh",label:"Actualizar",loading:t.loading},on:{click:function(e){return t.list()}}})],1)],1),t._v(" "),a("v-row",{staticClass:"pt-4",attrs:{"no-gutters":""}},[a("v-col",[a("v-data-table",{attrs:{headers:t.headers,dense:"",items:t.pruebas,search:t.search,"item-key":"id",loading:t.loading,"sort-by":"","no-data-text":"No existen pruebas pendientes por Ejecucion"},scopedSlots:t._u([{key:"item",fn:function(e){var o=e.item;return[a("tr",[a("td",{staticClass:"text-xs-left"},[t._v(t._s(o.nb_prueba))]),t._v(" "),a("td",{staticClass:"text-xs-left"},[t._v(t._s(o.grupo.nb_grupo))]),t._v(" "),a("td",{staticClass:"text-xs-left"},[t._v(t._s(o.materia.nb_materia))]),t._v(" "),a("td",{staticClass:"text-xs-left"},[t._v(t._s(o.alumno.length))]),t._v(" "),a("td",{staticClass:"text-xs-left"},[t._v(t._s(t._f("formatDate")(o.fe_prueba)))]),t._v(" "),a("td",{staticClass:"text-xs-left"},[t._v(t._s(o.hh_inicio))]),t._v(" "),a("td",{staticClass:"text-xs-left"},[t._v(t._s(o.hh_fin))]),t._v(" "),a("td",{staticClass:"text-xs-left"},[t._v(t._s(5==o.id_status&&o.bo_culminado?"culminada":o.status.nb_status))]),t._v(" "),a("td",{staticClass:"text-xs-left py-1"},[4==o.id_status?[a("app-button",{attrs:{color:"success",icon:"mdi-play",label:"Ejecutar Prueba",loading:t.loading},on:{click:function(e){return t.ejecutarPrueba()}}}),t._v(" "),a("v-dialog",{attrs:{"max-width":"500","content-class":"rounded-xl",scrollable:""},model:{value:t.dialogEjecutar,callback:function(e){t.dialogEjecutar=e},expression:"dialogEjecutar"}},[t.dialogEjecutar?a("ejecutar-prueba-form",{attrs:{item:o,action:"upd"},on:{closeModal:function(e){return t.closeDialog(e,"dialogEjecutar")}}}):t._e()],1)]:t._e(),t._v(" "),5!=o.id_status||o.bo_culminado?t._e():[a("app-button",{attrs:{color:"red",icon:"mdi-stop",label:"Cancelar Prueba",loading:t.loading},on:{click:function(e){return t.showConfirm("dialogCancelar")}}}),t._v(" "),a("app-confirm",{attrs:{confirm:t.dialogCancelar,titulo:"Cancelar",mensaje:"Dese cancelar la prueba"},on:{closeConfirm:function(e){return t.closeConfirm(e,"dialogCancelar",o)}}})],t._v(" "),5==o.id_status&&o.bo_culminado?[a("app-button",{attrs:{color:"amber",icon:"mdi-restart",label:"Reiniciar Prueba",loading:t.loading},on:{click:function(e){return t.showConfirm("dialogReiniciar")}}}),t._v(" "),a("app-confirm",{attrs:{confirm:t.dialogReiniciar,titulo:"Reiniciar",mensaje:"Desea reiniciar la prueba"},on:{closeConfirm:function(e){return t.closeConfirm(e,"dialogReiniciar",o)}}})]:t._e()],2)])]}}])})],1)],1)],1),t._v(" "),t.$App.debug?a("pre",[t._v(t._s(t.$data))]):t._e()],1)}),[],!1,null,null,null).exports;function tt(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=function(t,e){if(!t)return;if("string"==typeof t)return et(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(a);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return et(t,e)}(t))){var e=0,a=function(){};return{s:a,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,n,i=!0,l=!1;return{s:function(){o=t[Symbol.iterator]()},n:function(){var t=o.next();return i=t.done,t},e:function(t){l=!0,n=t},f:function(){try{i||null==o.return||o.return()}finally{if(l)throw n}}}}function et(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,o=new Array(e);a<e;a++)o[a]=t[a];return o}var at={mixins:[o.a],props:{prueba:{type:Object,default:function(){}},alumno:{type:Object,default:function(){}}},created:function(){this.list()},data:function(){return{preguntas:[],form:{respuestas:[],id_usuario:null},totalPrueba:0}},methods:{list:function(){var t=this;this.getResource("pregunta/prueba/".concat(this.prueba.id,"/alumno/").concat(this.alumno.id,"/evaluacion")).then((function(e){t.preguntas=e,t.getTotalCalificacion(e)}))},getCalificacion:function(t){var e,a=0,o=tt(t);try{for(o.s();!(e=o.n()).done;){a+=e.value.nu_valor}}catch(t){o.e(t)}finally{o.f()}return a},getTotalCalificacion:function(t){this.totalPrueba=0;var e,a=tt(t);try{for(a.s();!(e=a.n()).done;){var o,n=tt(e.value.respuesta_alumno);try{for(n.s();!(o=n.n()).done;){var i=o.value;this.totalPrueba+=i.nu_valor}}catch(t){n.e(t)}finally{n.f()}}}catch(t){a.e(t)}finally{a.f()}},evaluar:function(){var t=this;this.getEvaluaciones(),this.form.id_usuario=this.idUser,this.updateResource("pruebaAlumno/evaluar/".concat(this.alumno.prueba_alumno[0].id),this.form).then((function(e){t.showMessage(e.msj),t.$emit("closeModal")}))},getEvaluaciones:function(){for(var t in this.form.respuestas=[],this.$refs)if(t.includes("respuesta_")){var e=t.split("_")[1],a=this.$refs[t][0].internalValue;this.form.respuestas.push({id:e,value:a})}}}},ot=Object(i.a)(at,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{flat:"",height:"90vh"}},[a("v-card-title",{staticClass:"pa-0"},[a("app-simple-toolbar",{attrs:{title:"Revision Respuesta"},on:{closeModal:function(e){return t.$emit("closeModal")}}})],1),t._v(" "),a("v-card-title",{staticClass:"pa-0"},[a("v-toolbar",{staticClass:"elevation-0",attrs:{color:"grey lighten-4",dense:""}},[a("v-row",{attrs:{"no-gutters":"",justify:"space-between"}},[a("v-col",{attrs:{cols:"auto"}},[t._v("Alumno: "+t._s(t.alumno.nb_corto))]),t._v(" "),a("v-col",{attrs:{cols:"auto"}},[t._v("Total: "+t._s(t.totalPrueba))])],1)],1)],1),t._v(" "),a("v-card-text",[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-row",{attrs:{justify:"center","no-gutters":""}},[a("v-col",[a("v-col",[a("v-list",{attrs:{"three-line":"",dense:"",width:"100%"}},t._l(t.preguntas,(function(e,o){return a("v-list-item",{key:o,attrs:{value:e.id}},[a("v-list-item-avatar",{attrs:{size:"40",color:"indigo lighten-5"}},[a("v-icon",{attrs:{color:"indigo lighten-1",size:"36"}},[t._v("mdi-help-circle")])],1),t._v(" "),a("v-list-item-content",[a("v-list-item-title",[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{cols:"11"}},[t._v(t._s(e.nb_pregunta)+" ("+t._s(e.nu_valor)+" Pts.)")]),t._v(" "),a("v-col",{attrs:{cols:"1"}},[a("list-simple-icon",{attrs:{icon:e.tipo_pregunta.tx_icono,label:e.tipo_pregunta.nb_tipo_pregunta,color:e.tipo_pregunta.tx_color}})],1)],1)],1),t._v(" "),t._l(e.respuesta_alumno,(function(o,n){return a("v-list-item-subtitle",{key:n,attrs:{value:o.id}},[a("v-row",{attrs:{"no-gutters":""}},[1==e.id_tipo_pregunta?[a("p",{staticClass:"col-12"},[a("v-icon",{attrs:{color:"info"}},[t._v(" mdi-alpha-r-circle-outline ")]),t._v(" \n                                        "+t._s(o.tx_respuesta)+"\n                                    ")],1)]:[a("v-col",{attrs:{cols:"1"}},[a("list-simple-icon",{attrs:{icon:"mdi-alpha-r-circle",label:o.bo_correcta?"Respuesta Correcta":"Respuesta Incorrecta",color:o.bo_correcta?"green":"red"}})],1),t._v(" "),a("v-col",{staticClass:"py-1"},[t._v("\n                                        "+t._s(o.respuesta.nb_respuesta)+" \n                                    ")])]],2)],1)}))],2),t._v(" "),a("v-list-item-action",{staticClass:"col-2 pa-0"},[1==e.id_tipo_pregunta?[a("v-text-field",{ref:"respuesta_"+e.respuesta_alumno[0].id,refInFor:!0,attrs:{label:"Calificacion",type:"number",outlined:"",dense:"",hint:"indique calificacion","persistent-hint":"",rules:[t.rules.required,t.rules.minNum(0),t.rules.maxNum(e.nu_valor)],value:e.respuesta_alumno[0].nu_valor}})]:[a("v-col",{staticClass:"subtitle-1"},[t._v("\n                                   "+t._s(t.getCalificacion(e.respuesta_alumno))+" Pts.\n                               ")])]],2)],1)})),1)],1)],1)],1)],1)],1),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{fab:"",depressed:"","x-small":"",color:"error"},on:{click:function(e){return t.$emit("closeModal")}}},[a("v-icon",[t._v("mdi-reply")])],1),t._v(" "),a("v-btn",{attrs:{fab:"",depressed:"",small:"",color:"success",disabled:!t.valid,loading:t.loading},on:{click:function(e){return t.evaluar()}}},[a("v-icon",[t._v("save_alt")])],1)],1),t._v(" "),a("v-overlay",{attrs:{absolute:"",opacity:.3,value:t.loading,"z-index":10}},[a("v-icon",{staticClass:"mdi-spin",attrs:{size:"40"}},[t._v("mdi-loading")])],1),t._v(" "),t.$App.debug?a("pre",[t._v(t._s(t.$refs))]):t._e()],1)}),[],!1,null,null,null).exports,nt={mixins:[o.a],components:{"evaluar-respuesta-alumno":ot},props:{prueba:{type:Object,default:function(){}}},created:function(){this.list()},data:function(){return{alumnos:[],alumno:null,alumnoSelected:null,dialogRespuesta:!1,confirm:!1,confirmEvaluar:!1}},methods:{list:function(){var t=this;this.getResource("alumno/prueba/".concat(this.prueba.id)).then((function(e){return t.alumnos=e}))},hasEjecucion:function(t){return t.prueba_alumno[0].id_status>=5},getRespuestasAlumno:function(t){this.hasEjecucion(t)&&(this.alumno=t,this.dialogRespuesta=!0)},closeDialog:function(t,e){this[e]=!1,this.list()},closeConfirm:function(t,e){this[e]=!1,t&&this.cerrarPrueba()},closeConfirmEvaluar:function(t,e,a){this[e]=!1,t&&this.evaluarPruebaImcompleta(a)},evaluarPruebaImcompleta:function(t){var e=this,a={id_usuario:this.idUser};this.updateResource("pruebaAlumno/evaluar/".concat(t.prueba_alumno[0].id),a).then((function(t){e.showMessage(t.msj),e.list()}))},cerrarPrueba:function(){var t=this,e={id_usuario:this.idUser};this.updateResource("prueba/cerrar/".concat(this.prueba.id),e).then((function(e){t.showMessage(e.msj),t.$emit("closeModal")}))}}},it=Object(i.a)(nt,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{flat:"",height:"80vh"}},[a("v-card-title",{staticClass:"pa-0"},[a("app-simple-toolbar",{attrs:{title:"Alumnos asignados a la Prueba"},on:{closeModal:function(e){return t.$emit("closeModal",!0)}}})],1),t._v(" "),a("v-card-text",[a("v-row",{attrs:{justify:"center","no-gutters":""}},[a("v-col",{staticClass:"pt-3",attrs:{cols:"12"}},[a("v-list",{attrs:{subheader:"",dense:"",width:"100%"}},[a("v-list-item-group",{model:{value:t.alumnoSelected,callback:function(e){t.alumnoSelected=e},expression:"alumnoSelected"}},t._l(t.alumnos,(function(e,o){return a("v-list-item",{key:o,attrs:{value:e.id},on:{click:function(a){return t.getRespuestasAlumno(e)}}},[a("v-list-item-avatar",[a("v-icon",{attrs:{color:"indigo",size:"36"}},[t._v("mdi-school")])],1),t._v(" "),a("v-list-item-content",[a("v-list-item-title",{domProps:{textContent:t._s(e.nb_alumno)}}),t._v(" "),a("v-list-item-subtitle",{domProps:{textContent:t._s(e.tx_documento)}})],1),t._v(" "),e.prueba_alumno[0].calificacion?a("v-list-item-action",[a("v-tooltip",{attrs:{bottom:"",color:"green"},scopedSlots:t._u([{key:"activator",fn:function(o){var n=o.on;return[a("span",t._g({staticClass:"mr-1 px-1 green rounded-xl white--text"},n),[t._v(t._s(e.prueba_alumno[0].calificacion.nu_calificacion))])]}}],null,!0)},[t._v(" "),a("span",[t._v("Letra "+t._s(e.prueba_alumno[0].calificacion.nb_calificacion)+" Puntos Obtenidos "+t._s(e.prueba_alumno[0].nu_calificacion))])])],1):t._e(),t._v(" "),a("v-list-item-action",[7==e.prueba_alumno[0].id_status?[a("list-simple-icon",{attrs:{color:"success",icon:"mdi-checkbox-marked-circle",label:"evaluado"}})]:[a("list-simple-icon",{attrs:{color:"amber",icon:"mdi-alert-circle",label:"Sin Evaluacion"}})]],2),t._v(" "),a("v-list-item-action",[t.hasEjecucion(e)?[a("app-button",{attrs:{label:"ver respuestas",icon:"mdi-book-search",loading:t.loading}})]:[a("app-button",{attrs:{label:"No ejecuto la prueba",icon:"mdi-book-remove",color:"red",loading:t.loading},on:{click:function(e){t.confirmEvaluar=!0}}}),t._v(" "),a("app-confirm",{attrs:{confirm:t.confirmEvaluar,titulo:"Evaluar Prueba",mensaje:"El Alumno no ejecuto la prueba. Desea realizar la Evaluacion?"},on:{closeConfirm:function(a){return t.closeConfirmEvaluar(a,"confirmEvaluar",e)}}})]],2)],1)})),1)],1)],1),t._v(" "),a("v-dialog",{attrs:{fullscreen:"",scrollable:""},model:{value:t.dialogRespuesta,callback:function(e){t.dialogRespuesta=e},expression:"dialogRespuesta"}},[t.dialogRespuesta?a("evaluar-respuesta-alumno",{attrs:{prueba:t.prueba,alumno:t.alumno},on:{closeModal:function(e){return t.closeDialog(e,"dialogRespuesta")}}}):t._e()],1)],1)],1),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{fab:"",depressed:"","x-small":"",color:"error"},on:{click:function(e){return t.$emit("closeModal")}}},[a("v-icon",[t._v("mdi-reply")])],1),t._v(" "),a("v-btn",{attrs:{fab:"",depressed:"",small:"",color:"success",disabled:!t.valid,loading:t.loading},on:{click:function(e){t.confirm=!0}}},[a("v-icon",[t._v("mdi-lock")])],1)],1),t._v(" "),a("app-confirm",{attrs:{confirm:t.confirm,titulo:"Cerrar Prueba",mensaje:"Desea Cerrar la Prueba?"},on:{closeConfirm:function(e){return t.closeConfirm(e,"confirm")}}}),t._v(" "),a("v-overlay",{attrs:{absolute:"",opacity:.3,value:t.loading,"z-index":10}},[a("v-icon",{staticClass:"mdi-spin",attrs:{size:"40"}},[t._v("mdi-loading")])],1),t._v(" "),t.$App.debug?a("pre",[t._v(t._s(t.$data))]):t._e()],1)}),[],!1,null,null,null).exports,lt={mixins:[o.a],components:{"evaluar-prueba-alumno":it},created:function(){this.list()},computed:{docente:function(){return this.$store.getters.getDocente}},data:function(){return{pruebas:[],headers:[{text:"Prueba",value:"nb_prueba"},{text:"Grupo",value:"grupo.nb_grupo"},{text:"Materia",value:"materia.nb_materia"},{text:"Alumnos",value:"alumno"},{text:"Fecha",value:"fe_prueba"},{text:"Status",value:"status.nb_status"},{text:"Acciones",value:"actions",sortable:!1,filterable:!1}],validateForm:!1,dialogEvaluar:!1,prueba:null}},methods:{list:function(){var t=this;this.getResource("prueba/docente/".concat(this.docente.id,"/evaluar")).then((function(e){return t.pruebas=e}))},evaluarPrueba:function(t){this.prueba=t,this.dialogEvaluar=!0},closeDialog:function(t,e){this[e]=!1,this.list()}}},rt={components:{"crear-prueba":G,"asignar-prueba":Y,"ejecutar-prueba":Z,"evaluar-prueba":Object(i.a)(lt,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{loading:t.loading,flat:"",height:"80vh"}},[a("v-card-title",{staticClass:"pa-0"},[a("app-simple-toolbar",{attrs:{title:"Evaluar Pruebas"},on:{closeModal:function(e){return t.$emit("closeModal",!0)}}})],1),t._v(" "),a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"10",md:"6"}},[a("v-text-field",{attrs:{"append-icon":"search",label:"Buscar","hide-details":"",clearable:"",dense:""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),a("v-spacer"),t._v(" "),a("v-col",{staticClass:"text-center"},[a("app-button",{attrs:{color:"info",icon:"mdi-table-refresh",label:"Actualizar",loading:t.loading},on:{click:function(e){return t.list()}}})],1)],1),t._v(" "),a("v-row",{staticClass:"pt-4",attrs:{"no-gutters":""}},[a("v-col",[a("v-data-table",{attrs:{headers:t.headers,dense:"",items:t.pruebas,search:t.search,"item-key":"id",loading:t.loading,"sort-by":"","no-data-text":"No existen pruebas pendientes por Revision"},scopedSlots:t._u([{key:"item",fn:function(e){var o=e.item;return[a("tr",[a("td",{staticClass:"text-xs-left"},[t._v(t._s(o.nb_prueba))]),t._v(" "),a("td",{staticClass:"text-xs-left"},[t._v(t._s(o.grupo.nb_grupo))]),t._v(" "),a("td",{staticClass:"text-xs-left"},[t._v(t._s(o.materia.nb_materia))]),t._v(" "),a("td",{staticClass:"text-xs-left"},[t._v(t._s(o.alumno.length))]),t._v(" "),a("td",{staticClass:"text-xs-left"},[t._v(t._s(t._f("formatDate")(o.fe_prueba)))]),t._v(" "),a("td",{staticClass:"text-xs-left"},[t._v(t._s(o.status.nb_status))]),t._v(" "),a("td",{staticClass:"text-xs-left py-1"},[[a("app-button",{attrs:{color:"success",icon:"mdi-format-list-checks",label:"Evaluar Prueba",loading:t.loading},on:{click:function(e){return t.evaluarPrueba(o)}}}),t._v(" "),a("v-dialog",{attrs:{"max-width":"600","content-class":"rounded-xl",scrollable:""},model:{value:t.dialogEvaluar,callback:function(e){t.dialogEvaluar=e},expression:"dialogEvaluar"}},[t.dialogEvaluar?a("evaluar-prueba-alumno",{attrs:{prueba:t.prueba},on:{closeModal:function(e){return t.closeDialog(e,"dialogEvaluar")}}}):t._e()],1)]],2)])]}}])})],1)],1)],1),t._v(" "),t.$App.debug?a("pre",[t._v(t._s(t.$data))]):t._e()],1)}),[],!1,null,null,null).exports},computed:{docente:function(){return this.$store.getters.getDocente}},data:function(){return{component:null,sectionTitle:null,dialogSection:!1,sectionWidth:null,sections:[{label:"Crear Prueba",icon:"mdi-book-plus-multiple",component:"crear-prueba",color:"red",sectionWidth:"95vw"},{label:"Asignar Prueba",icon:"mdi-book-account",component:"asignar-prueba",color:"amber",sectionWidth:"95vw"},{label:"Ejecutar Prueba",icon:"mdi-book-play",component:"ejecutar-prueba",color:"green",sectionWidth:"95vw"},{label:"Evaluar Prueba",icon:"mdi-book-search",component:"evaluar-prueba",color:"purple",sectionWidth:"95vw"}]}},methods:{showSection:function(t){this.sectionWidth=t.sectionWidth,this.dialogSection=!0,this.component=t.component,this.sectionTitle=t.label}}},st=(Object(i.a)(rt,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"rounded-xl",attrs:{height:"300"}},[a("v-card-title",{staticClass:"pa-0"},[a("app-simple-toolbar",{attrs:{title:"Pruebas"},on:{closeModal:function(e){return t.$emit("closeModal")}}})],1),t._v(" "),a("v-card-text",[a("v-row",t._l(t.sections,(function(e){return a("v-col",{key:e.name,attrs:{cols:"12",md:"6"}},[a("v-list-item",{attrs:{color:e.color},on:{click:function(a){return t.showSection(e)}}},[a("v-list-item-avatar",{attrs:{color:e.color,size:"58"}},[a("v-icon",{attrs:{size:"36",color:"white"},domProps:{textContent:t._s(e.icon)}},[t._v("mdi-account-circle")])],1),t._v(" "),a("v-list-item-content",[a("v-list-item-title",{domProps:{textContent:t._s(e.label)}})],1)],1)],1)})),1)],1),t._v(" "),a("v-dialog",{attrs:{"content-class":"rounded-xl dialog-section",scrollable:"","max-width":t.sectionWidth},model:{value:t.dialogSection,callback:function(e){t.dialogSection=e},expression:"dialogSection"}},[t.dialogSection?a(t.component,{tag:"component",on:{closeModal:function(e){t.dialogSection=!1}}}):t._e()],1)],1)}),[],!1,null,null,null).exports,{components:{"lista-alumno":b,"plan-evaluacion":C,"evaluacion-docente":R,"gestion-tema":a("c+QY").a},computed:{docente:function(){return this.$store.getters.getDocente}},data:function(){return{component:null,sectionTitle:null,sectionWidth:null,dialog:!1,sections:[{label:"Alumnos",icon:"mdi-school",component:"lista-alumno",color:"blue",sectionWidth:"700"},{label:"Plan Evaluacion",icon:"mdi-table-clock",component:"plan-evaluacion",color:"indigo",sectionWidth:"700"}]}},methods:{showSection:function(t){this.sectionWidth=t.sectionWidth,this.dialog=!0,this.component=t.component,this.sectionTitle=t.label}}}),ct=Object(i.a)(st,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"mt-3 rounded-xl"},[a("v-toolbar",{attrs:{color:"indigo",flat:"",dark:""}},[t._v("\n        Secciones\n    ")]),t._v(" "),a("v-card-text",[t._l(t.sections,(function(e){return a("v-tooltip",{key:e.name,attrs:{top:"",color:"info"},scopedSlots:t._u([{key:"activator",fn:function(o){var n=o.on;return[a("v-btn",t._g({staticClass:"ml-1",attrs:{fab:"",dark:"",depressed:"",color:e.color},on:{click:function(a){return t.showSection(e)}}},n),[a("v-icon",{attrs:{size:"32"},domProps:{textContent:t._s(e.icon)}})],1)]}}],null,!0)},[t._v(" "),a("span",{domProps:{textContent:t._s(e.label)}})])})),t._v(" "),a("v-tooltip",{attrs:{top:"",color:"orange"},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[a("v-btn",t._g({staticClass:"ml-1 mt-1 ",attrs:{fab:"",dark:"",depressed:"",color:"orange"},on:{click:function(e){return t.navegateToName("gestion-tema")}}},o),[a("v-icon",{attrs:{size:"32"}},[t._v("mdi-inbox-multiple")])],1)]}}])},[t._v(" "),a("span",[t._v("Gestion de Contenidos")])]),t._v(" "),a("v-tooltip",{attrs:{top:"",color:"red"},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[a("v-btn",t._g({staticClass:"ml-1 mt-1",attrs:{fab:"",dark:"",depressed:"",color:"red"},on:{click:function(e){return t.navegateToName("planificador-docente")}}},o),[a("v-icon",{attrs:{size:"32"}},[t._v("mdi-calendar-multiselect")])],1)]}}])},[t._v(" "),a("span",[t._v("Planificador")])]),t._v(" "),a("v-tooltip",{attrs:{top:"",color:"green"},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[a("v-btn",t._g({staticClass:"ml-1 mt-1",attrs:{fab:"",dark:"",depressed:"",color:"green"},on:{click:function(e){return t.navegateToName("seguimiento-actividades")}}},o),[a("v-icon",{attrs:{size:"32"}},[t._v("mdi-calendar-search")])],1)]}}])},[t._v(" "),a("span",[t._v("Seguimiento")])]),t._v(" "),a("v-tooltip",{attrs:{top:"",color:"cyan"},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[a("v-btn",t._g({staticClass:"ml-1 mt-1",attrs:{fab:"",dark:"",depressed:"",color:"cyan"},on:{click:function(e){return t.navegateToName("clase-docente")}}},o),[a("v-icon",{attrs:{size:"32"}},[t._v("mdi-google-classroom")])],1)]}}])},[t._v(" "),a("span",[t._v("Clase")])])],2),t._v(" "),a("v-dialog",{attrs:{"content-class":"rounded-xl",scrollable:"","max-width":t.sectionWidth},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[t.dialog?a(t.component,{tag:"component",on:{closeModal:function(e){t.dialog=!1}}}):t._e()],1)],1)}),[],!1,null,null,null).exports,ut={mixins:[o.a],components:{"agenda-docente":c,"calendario-docente":v,"seccion-docente":ct},created:function(){this.list()},computed:{docente:function(){return this.$store.getters.getDocente}},data:function(){return{events:[],items:[],evaluaciones:[]}},methods:{list:function(){var t=this;this.getResource("agenda").then((function(e){t.events=e.data}))},getEvaluaciones:function(){var t=this;this.items.map((function(e){if(e.fe_evaluacion){var a=new Date(e.fe_evaluacion).toISOString().substr(0,10);t.evaluaciones.push({id:e.id,name:e.tipo_evaluacion.nb_tipo_evaluacion,date:a,start:"".concat(a," 07:00"),end:"".concat(a," 07:30"),startHour:"08:00",endHour:"09:00",color:e.plan_evaluacion.materia.area_estudio.tx_color,category:e.plan_evaluacion.grupo.nb_grupo,categoryId:98,type:"evaluacion",typeId:98,icon:"mdi-notebook",topic:e.tx_tema,description:e.tx_observaciones,status:e.id_status,weight:e.nu_peso})}}))}}},dt=(a("AFaY"),Object(i.a)(ut,(function(){var t=this.$createElement,e=this._self._c||t;return e("v-container",{staticClass:"green lighten-4 contend",attrs:{fluid:""}},[e("v-row",[e("v-col",{attrs:{cols:"12",md:"8"}},[e("v-row",{attrs:{"no-gutters":""}},[e("v-col",{attrs:{cols:"12"}},[e("agenda-docente",{attrs:{events:this.evaluaciones}})],1)],1)],1),this._v(" "),e("v-col",{attrs:{cols:"12",md:"4"}},[e("calendario-docente",{attrs:{events:this.events}}),this._v(" "),e("seccion-docente")],1)],1)],1)}),[],!1,null,null,null));e.default=dt.exports},S1Zf:function(t,e,a){(t.exports=a("I1BE")(!1)).push([t.i,".file-visor{height:89vh}",""])},lDyD:function(t,e,a){var o=a("J5wY");"string"==typeof o&&(o=[[t.i,o,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(o,n);o.locals&&(t.exports=o.locals)},rcUW:function(t,e,a){"use strict";var o=a("Dgz/");a.n(o).a},vxxQ:function(t,e,a){"use strict";var o=a("e/FQ"),n=a("g7lw"),i=a("hdnk"),l={components:{"archivo-form":n.a,"menu-items":i.a},mixins:[o.a],props:{origen:{type:String,default:null},origenId:{type:Number,default:1},tipoArchivo:{type:Number,default:1},hasArchivo:{type:Boolean,default:!1},color:{type:String,default:"cyan lighten-2"},icono:{type:String,default:"mdi-paperclip"}},watch:{modal:function(){this.items=[],this.resource="archivo/tipoArchivo/".concat(this.tipoArchivo,"/origen/").concat(this.origenId),this.list()}},computed:{mimeTypes:function(){var t=[];return this.fileTypes.forEach((function(e){t.push(e.mime)})),t=t.join(",")}},data:function(){return{title:"Archivos",resource:"archivo/tipoArchivo/".concat(this.tipoArchivo,"/origen/").concat(this.origenId),fileUpload:[],file:null,fileName:null,fileType:null,loading:!1,modal:!1,fileTypes:[{name:"Word",icon:"mdi-microsoft-word",color:"cyan",mime:"application/msword"},{name:"Excel",icon:"mdi-microsoft-excel",color:"green",mime:"application/vnd.ms-excel"},{name:"PowerPoint",icon:"mdi-microsoft-powerpoint",color:"orange",mime:"application/vnd.ms-powerpoint"},{name:"Texto",icon:"mdi-text-box",color:"primary",mime:"text/plain"},{name:"PDF",icon:"mdi-file-pdf-box",color:"red",mime:"application/pdf"},{name:"Word",icon:"mdi-microsoft-word",color:"cyan",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"},{name:"Excel",icon:"mdi-microsoft-excel",color:"green",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"},{name:"PowerPoint",icon:"mdi-microsoft-powerpoint",color:"orange",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"},{name:"Image",icon:"mdi-file-image",color:"red",mime:"image/*"}],filesMenu:[{label:"Descargar",icon:"mdi-download",action:"download"}],itemsMenu:[{label:"Cerrar",icon:"mdi-close",action:"close"},{label:"Refrescar",icon:"mdi-table-refresh",action:"refresh"}]}},methods:{getFileType:function(t){return this.fileTypes.find((function(e){return e.name==t}))},closeModal:function(){this.action="",this.modal=!1,this.list()},downloadFile:function(t){this.$refs[t.id][0].click()},onMenu:function(t){switch(t.action){case"refresh":this.list();break;case"close":this.$emit("closeModal");break;case"download":console.log(t.item),this.downloadFile(t.item)}}}},r=a("KHd+"),s=Object(r.a)(l,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{persistent:"",width:"600","content-class":"rounded-xl"},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[a("v-badge",t._g({attrs:{left:"",color:"red",value:t.hasArchivo,overlap:"",dot:"",bordered:""}},o),[a("v-btn",{staticClass:"my-1",attrs:{fab:"",dark:"","x-small":"",color:t.color},on:{click:function(e){t.modal=!t.modal}}},[a("v-icon",{domProps:{textContent:t._s(t.icono)}})],1)],1)]}}]),model:{value:t.modal,callback:function(e){t.modal=e},expression:"modal"}},[t._v(" "),a("v-card",{staticClass:"rounded-xl",attrs:{flat:"",loading:t.loading}},[a("v-toolbar",{attrs:{dark:"",flat:"",color:t.$App.theme.headModal}},[a("v-btn",{staticClass:"mx-1",attrs:{icon:"","x-small":"",dark:""},nativeOn:{click:function(e){t.modal=!1}}},[a("v-icon",[t._v("mdi-close-circle")])],1),t._v(" "),a("v-toolbar-title",[t._v("Archivo")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{icon:""},on:{onMenu:function(e){return t.onMenu(e)}}},[a("v-icon",[t._v("mdi-dots-vertical")])],1)],1),t._v(" "),a("v-card-text",[a("v-list",{attrs:{"two-line":"",rounded:""}},[a("v-list-item-group",{attrs:{color:"primary"}},t._l(t.items,(function(e,o){return a("v-list-item",{key:o},[a("v-list-item-avatar",{attrs:{color:t.getFileType(e.tx_mimetype).color}},[a("v-tooltip",{attrs:{right:"",color:"green lighten-2","open-on-click":""},scopedSlots:t._u([{key:"activator",fn:function(o){var n=o.on;return[a("v-icon",t._g({attrs:{color:"white"},domProps:{textContent:t._s(t.getFileType(e.tx_mimetype).icon)}},n))]}}],null,!0)},[t._v(" "),a("span",[t._v(t._s(e.tx_observaciones))])])],1),t._v(" "),a("v-list-item-content",{staticClass:"my-0 py-0 "},[a("v-list-item-title",{domProps:{textContent:t._s(e.nb_archivo)}}),t._v(" "),a("v-list-item-subtitle",{domProps:{textContent:t._s(e.nb_real)}})],1),t._v(" "),a("v-list-item-action",[a("menu-items",{attrs:{itemsMenu:t.filesMenu,item:e,iconColor:"green lighten-5"},on:{onMenu:function(e){return t.onMenu(e)}}})],1),t._v(" "),a("a",{ref:e.id,refInFor:!0,staticClass:"d-none",attrs:{rel:"noreferrer noopener",target:"_blank",href:e.tipo_archivo.tx_base_path+e.tx_path,download:e.nb_real}})],1)})),1)],1)],1),t._v(" "),t.$App.debug?a("pre",[t._v(t._s(t.$data))]):t._e()],1)],1)}),[],!1,null,null,null);e.a=s.exports},x4IX:function(t,e,a){"use strict";var o=a("/3rM");a.n(o).a},zzjF:function(t,e,a){(t.exports=a("I1BE")(!1)).push([t.i,".field-evaluation[data-v-2831de4b]{width:90px}",""])}}]);